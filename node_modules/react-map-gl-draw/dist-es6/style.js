"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getFeatureStyle = getFeatureStyle;
exports.getEditHandleStyle = getEditHandleStyle;
exports.HIDDEN_CLICKABLE_STYLE = void 0;

var _constants = require("./constants");

var RECT_STYLE = {
  x: -6,
  y: -6,
  height: 12,
  width: 12
};
var CLOSING_RECT_STYLE = {
  x: -10,
  y: -10,
  height: 20,
  width: 20
};
var DEFAULT_STROKE_WIDTH = 2;
var HIGHLIGHTED_STROKE_WIDTH = 4;
var DEFAULT_RADIUS = 8;
var HIDDEN_CLICKABLE_STYLE = {
  fill: '#000',
  opacity: 0
};
exports.HIDDEN_CLICKABLE_STYLE = HIDDEN_CLICKABLE_STYLE;

function getFeatureStyle(_ref) {
  var feature = _ref.feature,
      state = _ref.state;
  var style = {
    stroke: state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED || state === _constants.RENDER_STATE.CLOSING ? '#a9a9a9' : '#000',
    strokeWidth: DEFAULT_STROKE_WIDTH,
    fill: state === _constants.RENDER_STATE.INACTIVE ? '#333333' : state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.SELECTED ? '#ffff00' : state === _constants.RENDER_STATE.UNCOMMITTED || state === _constants.RENDER_STATE.CLOSING ? '#a9a9a9' : '#000000',
    fillOpacity: state === _constants.RENDER_STATE.INACTIVE ? 0.1 : state === _constants.RENDER_STATE.SELECTED ? 0.7 : state === _constants.RENDER_STATE.HOVERED ? 0.5 : state === _constants.RENDER_STATE.UNCOMMITTED || state === _constants.RENDER_STATE.CLOSING ? 0.3 : 1
  };
  var renderType = feature.properties ? feature.properties.renderType : feature.renderType;

  switch (renderType) {
    case _constants.RENDER_TYPE.POINT:
      style.r = DEFAULT_RADIUS;
      break;

    case _constants.RENDER_TYPE.LINE_STRING:
      style.fill = 'none';
      break;

    case _constants.RENDER_TYPE.POLYGON:
      if (state === _constants.RENDER_STATE.CLOSING) {
        style.strokeDasharray = '4,2';
      }

      break;

    case _constants.RENDER_TYPE.RECTANGLE:
      if (state === _constants.RENDER_STATE.UNCOMMITTED) {
        style.strokeDasharray = '4,2';
      }

      break;

    default:
  }

  return style;
}

function getEditHandleStyle(_ref2) {
  var feature = _ref2.feature,
      index = _ref2.index,
      state = _ref2.state;
  var style = {
    fill: state === _constants.RENDER_STATE.INACTIVE ? '#ffffff' : state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.CLOSING ? '#ffff00' : state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED ? '#a9a9a9' : '#000000',
    fillOpacity: state === _constants.RENDER_STATE.INACTIVE ? 1 : state === _constants.RENDER_STATE.HOVERED ? 1 : state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.CLOSING ? 0.8 : state === _constants.RENDER_STATE.UNCOMMITTED ? 0.3 : 1,
    stroke: state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.HOVERED || state === _constants.RENDER_STATE.CLOSING ? '#7ac943' : '#000',
    strokeWidth: state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.CLOSING ? HIGHLIGHTED_STROKE_WIDTH : DEFAULT_STROKE_WIDTH,
    r: DEFAULT_RADIUS
  };
  var renderType = feature.properties ? feature.properties.renderType : feature.renderType;

  switch (renderType) {
    case _constants.RENDER_TYPE.POINT:
      style.fill = state === _constants.RENDER_STATE.INACTIVE ? '#333333' : state === _constants.RENDER_STATE.SELECTED ? '#ffff00' : state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED ? 'none' : '#000000';
      style.stroke = state === _constants.RENDER_STATE.SELECTED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED ? 'none' : '#000';
      break;

    case _constants.RENDER_TYPE.LINE_STRING:
    case _constants.RENDER_TYPE.POLYGON:
    case _constants.RENDER_TYPE.RECTANGLE:
      if (state === _constants.RENDER_STATE.CLOSING) {
        Object.assign(style, CLOSING_RECT_STYLE);
      } else {
        Object.assign(style, RECT_STYLE);
      }

      break;

    default:
  }

  return style;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zdHlsZS5qcyJdLCJuYW1lcyI6WyJSRUNUX1NUWUxFIiwieCIsInkiLCJoZWlnaHQiLCJ3aWR0aCIsIkNMT1NJTkdfUkVDVF9TVFlMRSIsIkRFRkFVTFRfU1RST0tFX1dJRFRIIiwiSElHSExJR0hURURfU1RST0tFX1dJRFRIIiwiREVGQVVMVF9SQURJVVMiLCJISURERU5fQ0xJQ0tBQkxFX1NUWUxFIiwiZmlsbCIsIm9wYWNpdHkiLCJnZXRGZWF0dXJlU3R5bGUiLCJmZWF0dXJlIiwic3RhdGUiLCJzdHlsZSIsInN0cm9rZSIsIlJFTkRFUl9TVEFURSIsIlNFTEVDVEVEIiwiSE9WRVJFRCIsIlVOQ09NTUlUVEVEIiwiQ0xPU0lORyIsInN0cm9rZVdpZHRoIiwiSU5BQ1RJVkUiLCJmaWxsT3BhY2l0eSIsInJlbmRlclR5cGUiLCJwcm9wZXJ0aWVzIiwiUkVOREVSX1RZUEUiLCJQT0lOVCIsInIiLCJMSU5FX1NUUklORyIsIlBPTFlHT04iLCJzdHJva2VEYXNoYXJyYXkiLCJSRUNUQU5HTEUiLCJnZXRFZGl0SGFuZGxlU3R5bGUiLCJpbmRleCIsIk9iamVjdCIsImFzc2lnbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRUEsSUFBTUEsVUFBVSxHQUFHO0FBQ2pCQyxFQUFBQSxDQUFDLEVBQUUsQ0FBQyxDQURhO0FBRWpCQyxFQUFBQSxDQUFDLEVBQUUsQ0FBQyxDQUZhO0FBR2pCQyxFQUFBQSxNQUFNLEVBQUUsRUFIUztBQUlqQkMsRUFBQUEsS0FBSyxFQUFFO0FBSlUsQ0FBbkI7QUFPQSxJQUFNQyxrQkFBa0IsR0FBRztBQUN6QkosRUFBQUEsQ0FBQyxFQUFFLENBQUMsRUFEcUI7QUFFekJDLEVBQUFBLENBQUMsRUFBRSxDQUFDLEVBRnFCO0FBR3pCQyxFQUFBQSxNQUFNLEVBQUUsRUFIaUI7QUFJekJDLEVBQUFBLEtBQUssRUFBRTtBQUprQixDQUEzQjtBQU9BLElBQU1FLG9CQUFvQixHQUFHLENBQTdCO0FBQ0EsSUFBTUMsd0JB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R0FFRSxNQUxSO0FBTUE7O0FBQ0YsU0FBS08sdUJBQVlHLFdBQWpCO0FBQ0EsU0FBS0gsdUJBQVlJLE9BQWpCO0FBQ0EsU0FBS0osdUJBQVlNLFNBQWpCO0FBQ0UsVUFBSW5CLEtBQUssS0FBS0csd0JBQWFJLE9BQTNCLEVBQW9DO0FBQ2xDZSxRQUFBQSxNQUFNLENBQUNDLE1BQVAsQ0FBY3RCLEtBQWQsRUFBcUJWLGtCQUFyQjtBQUNELE9BRkQsTUFFTztBQUNMK0IsUUFBQUEsTUFBTSxDQUFDQyxNQUFQLENBQWN0QixLQUFkLEVBQXFCZixVQUFyQjtBQUNEOztBQUNEOztBQUNGO0FBNUJGOztBQStCQSxTQUFPZSxLQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSRU5ERVJfU1RBVEUsIFJFTkRFUl9UWVBFIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBSRUNUX1NUWUxFID0ge1xuICB4OiAtNixcbiAgeTogLTYsXG4gIGhlaWdodDogMTIsXG4gIHdpZHRoOiAxMlxufTtcblxuY29uc3QgQ0xPU0lOR19SRUNUX1NUWUxFID0ge1xuICB4OiAtMTAsXG4gIHk6IC0xMCxcbiAgaGVpZ2h0OiAyMCxcbiAgd2lkdGg6IDIwXG59O1xuXG5jb25zdCBERUZBVUxUX1NUUk9LRV9XSURUSCA9IDI7XG5jb25zdCBISUdITElHSFRFRF9TVFJPS0VfV0lEVEggPSA0O1xuY29uc3QgREVGQVVMVF9SQURJVVMgPSA4O1xuXG5leHBvcnQgY29uc3QgSElEREVOX0NMSUNLQUJMRV9TVFlMRSA9IHtcbiAgZmlsbDogJyMwMDAnLFxuICBvcGFjaXR5OiAwXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmVhdHVyZVN0eWxlKHsgZmVhdHVyZSwgc3RhdGUgfSkge1xuICBjb25zdCBzdHlsZSA9IHtcbiAgICBzdHJva2U6XG4gICAgICBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLlNFTEVDVEVEIHx8IHN0YXRlID09PSBSRU5ERVJfU1RBVEUuSE9WRVJFRFxuICAgICAgICA/ICcjN2FjOTQzJ1xuICAgICAgICA6IHN0YXRlID09PSBSRU5ERVJfU1RBVEUuVU5DT01NSVRURUQgfHwgc3RhdGUgPT09IFJFTkRFUl9TVEFURS5DTE9TSU5HXG4gICAgICAgICAgPyAnI2E5YTlhOSdcbiAgICAgICAgICA6ICcjMDAwJyxcbiAgICBzdHJva2VXaWR0aDogREVGQVVMVF9TVFJPS0VfV0lEVEgsXG4gICAgZmlsbDpcbiAgICAgIHN0YXRlID09PSBSRU5ERVJfU1RBVEUuSU5BQ1RJVkVcbiAgICAgICAgPyAnIzMzMzMzMydcbiAgICAgICAgOiBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLkhPVkVSRURcbiAgICAgICAgICA/ICcjN2FjOTQzJ1xuICAgICAgICAgIDogc3RhdGUgPT09IFJFTkRFUl9TVEFURS5TRUxFQ1RFRFxuICAgICAgICAgICAgPyAnI2ZmZmYwMCdcbiAgICAgICAgICAgIDogc3RhdGUgPT09IFJFTkRFUl9TVEFURS5VTkNPTU1JVFRFRCB8fCBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLkNMT1NJTkdcbiAgICAgICAgICAgICAgPyAnI2E5YTlhOSdcbiAgICAgICAgICAgICAgOiAnIzAwMDAwMCcsXG4gICAgZmlsbE9wYWNpdHk6XG4gICAgICBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLklOQUNUSVZFXG4gICAgICAgID8gMC4xXG4gICAgICAgIDogc3RhdGUgPT09IFJFTkRFUl9TVEFURS5TRUxFQ1RFRFxuICAgICAgICAgID8gMC43XG4gICAgICAgICAgOiBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLkhPVkVSRURcbiAgICAgICAgICAgID8gMC41XG4gICAgICAgICAgICA6IHN0YXRlID09PSBSRU5ERVJfU1RBVEUuVU5DT01NSVRURUQgfHwgc3RhdGUgPT09IFJFTkRFUl9TVEFURS5DTE9TSU5HXG4gICAgICAgICAgICAgID8gMC4zXG4gICAgICAgICAgICAgIDogMVxuICB9O1xuXG4gIGNvbnN0IHJlbmRlclR5cGUgPSBmZWF0dXJlLnByb3BlcnRpZXMgPyBmZWF0dXJlLnByb3BlcnRpZXMucmVuZGVyVHlwZSA6IGZlYXR1cmUucmVuZGVyVHlwZTtcblxuICBzd2l0Y2ggKHJlbmRlclR5cGUpIHtcbiAgICBjYXNlIFJFTkRFUl9UWVBFLlBPSU5UOlxuICAgICAgc3R5bGUuciA9IERFRkFVTFRfUkFESVVTO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5MSU5FX1NUUklORzpcbiAgICAgIHN0eWxlLmZpbGwgPSAnbm9uZSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFJFTkRFUl9UWVBFLlBPTFlHT046XG4gICAgICBpZiAoc3RhdGUgPT09IFJFTkRFUl9TVEFURS5DTE9TSU5HKSB7XG4gICAgICAgIHN0eWxlLnN0cm9rZURhc2hhcnJheSA9ICc0LDInO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5SRUNUQU5HTEU6XG4gICAgICBpZiAoc3RhdGUgPT09IFJFTkRFUl9TVEFURS5VTkNPTU1JVFRFRCkge1xuICAgICAgICBzdHlsZS5zdHJva2VEYXNoYXJyYXkgPSAnNCwyJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFZGl0SGFuZGxlU3R5bGUoeyBmZWF0dXJlLCBpbmRleCwgc3RhdGUgfSkge1xuICBjb25zdCBzdHlsZSA9IHtcbiAgICBmaWxsOlxuICAgICAgc3RhdGUgPT09IFJFTkRFUl9TVEFURS5JTkFDVElWRVxuICAgICAgICA/ICcjZmZmZmZmJ1xuICAgICAgICA6IHN0YXRlID09PSBSRU5ERVJfU1RBVEUuU0VMRUNURUQgfHwgc3RhdGUgPT09IFJFTkRFUl9TVEFURS5DTE9TSU5HXG4gICAgICAgICAgPyAnI2ZmZmYwMCdcbiAgICAgICAgICA6IHN0YXRlID09PSBSRU5ERVJfU1RBVEUuSE9WRVJFRFxuICAgICAgICAgICAgPyAnIzdhYzk0MydcbiAgICAgICAgICAgIDogc3RhdGUgPT09IFJFTkRFUl9TVEFURS5VTkNPTU1JVFRFRFxuICAgICAgICAgICAgICA/ICcjYTlhOWE5J1xuICAgICAgICAgICAgICA6ICcjMDAwMDAwJyxcbiAgICBmaWxsT3BhY2l0eTpcbiAgICAgIHN0YXRlID09PSBSRU5ERVJfU1RBVEUuSU5BQ1RJVkVcbiAgICAgICAgPyAxXG4gICAgICAgIDogc3RhdGUgPT09IFJFTkRFUl9TVEFURS5IT1ZFUkVEXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLlNFTEVDVEVEIHx8IHN0YXRlID09PSBSRU5ERVJfU1RBVEUuQ0xPU0lOR1xuICAgICAgICAgICAgPyAwLjhcbiAgICAgICAgICAgIDogc3RhdGUgPT09IFJFTkRFUl9TVEFURS5VTkNPTU1JVFRFRFxuICAgICAgICAgICAgICA/IDAuM1xuICAgICAgICAgICAgICA6IDEsXG4gICAgc3Ryb2tlOlxuICAgICAgc3RhdGUgPT09IFJFTkRFUl9TVEFURS5TRUxFQ1RFRCB8fFxuICAgICAgc3RhdGUgPT09IFJFTkRFUl9TVEFURS5IT1ZFUkVEIHx8XG4gICAgICBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLkNMT1NJTkdcbiAgICAgICAgPyAnIzdhYzk0MydcbiAgICAgICAgOiAnIzAwMCcsXG4gICAgc3Ryb2tlV2lkdGg6XG4gICAgICBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLlNFTEVDVEVEIHx8IHN0YXRlID09PSBSRU5ERVJfU1RBVEUuQ0xPU0lOR1xuICAgICAgICA/IEhJR0hMSUdIVEVEX1NUUk9LRV9XSURUSFxuICAgICAgICA6IERFRkFVTFRfU1RST0tFX1dJRFRILFxuICAgIHI6IERFRkFVTFRfUkFESVVTXG4gIH07XG5cbiAgY29uc3QgcmVuZGVyVHlwZSA9IGZlYXR1cmUucHJvcGVydGllcyA/IGZlYXR1cmUucHJvcGVydGllcy5yZW5kZXJUeXBlIDogZmVhdHVyZS5yZW5kZXJUeXBlO1xuXG4gIHN3aXRjaCAocmVuZGVyVHlwZSkge1xuICAgIGNhc2UgUkVOREVSX1RZUEUuUE9JTlQ6XG4gICAgICBzdHlsZS5maWxsID1cbiAgICAgICAgc3RhdGUgPT09IFJFTkRFUl9TVEFURS5JTkFDVElWRVxuICAgICAgICAgID8gJyMzMzMzMzMnXG4gICAgICAgICAgOiBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLlNFTEVDVEVEXG4gICAgICAgICAgICA/ICcjZmZmZjAwJ1xuICAgICAgICAgICAgOiBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLkhPVkVSRURcbiAgICAgICAgICAgICAgPyAnIzdhYzk0MydcbiAgICAgICAgICAgICAgOiBzdGF0ZSA9PT0gUkVOREVSX1NUQVRFLlVOQ09NTUlUVEVEXG4gICAgICAgICAgICAgICAgPyAnbm9uZSdcbiAgICAgICAgICAgICAgICA6ICcjMDAwMDAwJztcbiAgICAgIHN0eWxlLnN0cm9rZSA9XG4gICAgICAgIHN0YXRlID09PSBSRU5ERVJfU1RBVEUuU0VMRUNURURcbiAgICAgICAgICA/ICcjN2FjOTQzJ1xuICAgICAgICAgIDogc3RhdGUgPT09IFJFTkRFUl9TVEFURS5VTkNPTU1JVFRFRFxuICAgICAgICAgICAgPyAnbm9uZSdcbiAgICAgICAgICAgIDogJyMwMDAnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5MSU5FX1NUUklORzpcbiAgICBjYXNlIFJFTkRFUl9UWVBFLlBPTFlHT046XG4gICAgY2FzZSBSRU5ERVJfVFlQRS5SRUNUQU5HTEU6XG4gICAgICBpZiAoc3RhdGUgPT09IFJFTkRFUl9TVEFURS5DTE9TSU5HKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUsIENMT1NJTkdfUkVDVF9TVFlMRSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3QuYXNzaWduKHN0eWxlLCBSRUNUX1NUWUxFKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG4iXX0=