// Copyright (c) 2022 Uber Technologies, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.StyledFilterHeader = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _panelHeaderAction = _interopRequireDefault(require("../../side-panel/panel-header-action"));

var _icons = require("../../common/icons");

var _utils = require("@kepler.gl/utils");

var _styledComponents2 = require("../../common/styled-components");

var _templateObject, _templateObject2;

var StyledFilterHeader = (0, _styledComponents["default"])(_styledComponents2.StyledPanelHeader)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  cursor: pointer;\n  padding: 10px 12px;\n\n  .field-selector {\n    flex: 2;\n  }\n\n  border-left: 3px solid;\n  ", ";\n"])), function (props) {
  return props.$labelRCGColorValues && props.$labelRCGColorValues.length > 0 ? "border-image: ".concat((0, _utils.createLinearGradient)('bottom', props.$labelRCGColorValues), " 3;") : 'border-color: transparent;';
});
exports.StyledFilterHeader = StyledFilterHeader;

var StyledChildrenContainer = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  display: flex;\n  flex: 2;\n"])));

FilterPanelHeaderFactory.deps = [_panelHeaderAction["default"]];

function FilterPanelHeaderFactory(PanelHeaderAction) {
  var defaultActionIcons = {
    "delete": _icons.Trash
  };

  var FilterPanelHeader = function FilterPanelHeader(_ref) {
    var children = _ref.children,
        datasets = _ref.datasets,
        filter = _ref.filter,
        removeFilter = _ref.removeFilter,
        _ref$actionIcons = _ref.actionIcons,
        actionIcons = _ref$actionIcons === void 0 ? defaultActionIcons : _ref$actionIcons;
    return /*#__PURE__*/_react["default"].createElement(StyledFilterHeader, {
      className: "filter-panel__header",
      $labelRCGColorValues: datasets.map(function (d) {
        return d.color;
      })
    }, /*#__PURE__*/_react["default"].createElement(StyledChildrenContainer, null, children), /*#__PURE__*/_react["default"].createElement(PanelHeaderAction, {
      id: filter.id,
      tooltip: "tooltip.delete",
      tooltipType: "error",
      onClick: removeFilter,
      hoverColor: 'errorColor',
      IconComponent: actionIcons["delete"]
    }));
  };

  return FilterPanelHeader;
}

var _default = FilterPanelHeaderFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXBhbmVsL2ZpbHRlci1wYW5lbC9maWx0ZXItcGFuZWwtaGVhZGVyLnRzeCJdLCJuYW1lcyI6WyJTdHlsZWRGaWx0ZXJIZWFkZXIiLCJTdHlsZWRQYW5lbEhlYWRlciIsInByb3BzIiwiJGxhYmVsUkNHQ29sb3JWYWx1ZXMiLCJsZW5ndGgiLCJTdHlsZWRDaGlsZHJlbkNvbnRhaW5lciIsInN0eWxlZCIsImRpdiIsIkZpbHRlclBhbmVsSGVhZGVyRmFjdG9yeSIsImRlcHMiLCJQYW5lbEhlYWRlckFjdGlvbkZhY3RvcnkiLCJQYW5lbEhlYWRlckFjdGlvbiIsImRlZmF1bHRBY3Rpb25JY29ucyIsIlRyYXNoIiwiRmlsdGVyUGFuZWxIZWFkZXIiLCJjaGlsZHJlbiIsImRhdGFzZXRzIiwiZmlsdGVyIiwicmVtb3ZlRmlsdGVyIiwiYWN0aW9uSWNvbnMiLCJtYXAiLCJkIiwiY29sb3IiLCJpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFvQkE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFRTyxJQUFNQSxrQkFBa0IsR0FBRyxrQ0FBT0Msb0NBQVAsQ0FBSCxvTkFTM0IsVUFBQUMsS0FBSztBQUFBLFNBQ0xBLEtBQUssQ0FBQ0Msb0JBQU4sSUFBOEJELEtBQUssQ0FBQ0Msb0JBQU4sQ0FBMkJDLE1BQTNCLEdBQW9DLENBQWxFLDJCQUNxQixpQ0FBcUIsUUFBckIsRUFBK0JGLEtBQUssQ0FBQ0Msb0JBQXJDLENBRHJCLFdBRUksNEJBSEM7QUFBQSxDQVRzQixDQUF4Qjs7O0FBZVAsSUFBTUUsdUJBQXVCLEdBQUdDLDZCQUFPQyxHQUFWLHdIQUE3Qjs7QUFhQUMsd0JBQXdCLENBQUNDLElBQXpCLEdBQWdDLENBQUNDLDZCQUFELENBQWhDOztBQUVBLFNBQVNGLHdCQUFULENBQ0VHLGlCQURGLEVBRStDO0FBQzdDLE1BQU1DLGtCQUFrQixHQUFHO0FBQ3pCLGNBQVFDO0FBRGlCLEdBQTNCOztBQUdBLE1BQU1DLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBb0I7QUFBQSxRQUN4QkMsUUFEd0IsUUFDeEJBLFFBRHdCO0FBQUEsUUFFeEJDLFFBRndCLFFBRXhCQSxRQUZ3QjtBQUFBLFFBR3hCQyxNQUh3QixRQUd4QkEsTUFId0I7QUFBQSxRQUl4QkMsWUFKd0IsUUFJeEJBLFlBSndCO0FBQUEsZ0NBS3hCQyxXQUx3QjtBQUFBLFFBS3hCQSxXQUx3QixpQ0FLVlAsa0JBTFU7QUFBQSx3QkFPeEIsZ0NBQUMsa0JBQUQ7QUFDRSxNQUFBLFNBQVMsRUFBQyxzQkFEWjtBQUVFLE1BQUEsb0JBQW9CLEVBQUVJLFFBQVEsQ0FBQ0ksR0FBVCxDQUFhLFVBQUNDLENBQUQ7QUFBQSxlQUFvQkEsQ0FBQyxDQUFDQyxLQUF0QjtBQUFBLE9BQWI7QUFGeEIsb0JBSUUsZ0NBQUMsdUJBQUQsUUFBMEJQLFFBQTFCLENBSkYsZUFLRSxnQ0FBQyxpQkFBRDtBQUNFLE1BQUEsRUFBRSxFQUFFRSxNQUFNLENBQUNNLEVBRGI7QUFFRSxNQUFBLE9BQU8sRUFBQyxnQkFGVjtBQUdFLE1BQUEsV0FBVyxFQUFDLE9BSGQ7QUFJRSxNQUFBLE9BQU8sRUFBRUwsWUFKWDtBQUtFLE1BQUEsVUFBVSxFQUFFLFlBTGQ7QUFNRSxNQUFBLGFBQWEsRUFBRUMsV0FBVztBQU41QixNQUxGLENBUHdCO0FBQUEsR0FBMUI7O0FBdUJBLFNBQU9MLGlCQUFQO0FBQ0Q7O2VBRWNOLHdCIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDIyIFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50VHlwZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgUGFuZWxIZWFkZXJBY3Rpb25GYWN0b3J5IGZyb20gJy4uLy4uL3NpZGUtcGFuZWwvcGFuZWwtaGVhZGVyLWFjdGlvbic7XG5pbXBvcnQge1RyYXNofSBmcm9tICcuLi8uLi9jb21tb24vaWNvbnMnO1xuaW1wb3J0IHtjcmVhdGVMaW5lYXJHcmFkaWVudH0gZnJvbSAnQGtlcGxlci5nbC91dGlscyc7XG5pbXBvcnQge1N0eWxlZFBhbmVsSGVhZGVyLCBTdHlsZWRQYW5lbEhlYWRlclByb3BzfSBmcm9tICcuLi8uLi9jb21tb24vc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHtSR0JDb2xvciwgRmlsdGVyfSBmcm9tICdAa2VwbGVyLmdsL3R5cGVzJztcbmltcG9ydCB7S2VwbGVyVGFibGV9IGZyb20gJ0BrZXBsZXIuZ2wvdGFibGUnO1xuXG5pbnRlcmZhY2UgU3R5bGVkRmlsdGVySGVhZGVyUHJvcHMgZXh0ZW5kcyBTdHlsZWRQYW5lbEhlYWRlclByb3BzIHtcbiAgJGxhYmVsUkNHQ29sb3JWYWx1ZXM6IFJHQkNvbG9yW107XG59XG5cbmV4cG9ydCBjb25zdCBTdHlsZWRGaWx0ZXJIZWFkZXIgPSBzdHlsZWQoU3R5bGVkUGFuZWxIZWFkZXIpPFN0eWxlZEZpbHRlckhlYWRlclByb3BzPmBcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwYWRkaW5nOiAxMHB4IDEycHg7XG5cbiAgLmZpZWxkLXNlbGVjdG9yIHtcbiAgICBmbGV4OiAyO1xuICB9XG5cbiAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZDtcbiAgJHtwcm9wcyA9PlxuICAgIHByb3BzLiRsYWJlbFJDR0NvbG9yVmFsdWVzICYmIHByb3BzLiRsYWJlbFJDR0NvbG9yVmFsdWVzLmxlbmd0aCA+IDBcbiAgICAgID8gYGJvcmRlci1pbWFnZTogJHtjcmVhdGVMaW5lYXJHcmFkaWVudCgnYm90dG9tJywgcHJvcHMuJGxhYmVsUkNHQ29sb3JWYWx1ZXMpfSAzO2BcbiAgICAgIDogJ2JvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7J307XG5gO1xuXG5jb25zdCBTdHlsZWRDaGlsZHJlbkNvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXg6IDI7XG5gO1xuXG50eXBlIEZpbHRlclBhbmVsSGVhZGVyUHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gIGRhdGFzZXRzOiBLZXBsZXJUYWJsZVtdO1xuICBmaWx0ZXI6IEZpbHRlcjtcbiAgcmVtb3ZlRmlsdGVyOiAoKSA9PiB2b2lkO1xuICBhY3Rpb25JY29ucz86IFJlY29yZDxzdHJpbmcsIENvbXBvbmVudFR5cGU+O1xufTtcblxuRmlsdGVyUGFuZWxIZWFkZXJGYWN0b3J5LmRlcHMgPSBbUGFuZWxIZWFkZXJBY3Rpb25GYWN0b3J5XTtcblxuZnVuY3Rpb24gRmlsdGVyUGFuZWxIZWFkZXJGYWN0b3J5KFxuICBQYW5lbEhlYWRlckFjdGlvbjogUmV0dXJuVHlwZTx0eXBlb2YgUGFuZWxIZWFkZXJBY3Rpb25GYWN0b3J5PlxuKTogUmVhY3QuQ29tcG9uZW50VHlwZTxGaWx0ZXJQYW5lbEhlYWRlclByb3BzPiB7XG4gIGNvbnN0IGRlZmF1bHRBY3Rpb25JY29ucyA9IHtcbiAgICBkZWxldGU6IFRyYXNoXG4gIH07XG4gIGNvbnN0IEZpbHRlclBhbmVsSGVhZGVyID0gKHtcbiAgICBjaGlsZHJlbixcbiAgICBkYXRhc2V0cyxcbiAgICBmaWx0ZXIsXG4gICAgcmVtb3ZlRmlsdGVyLFxuICAgIGFjdGlvbkljb25zID0gZGVmYXVsdEFjdGlvbkljb25zXG4gIH06IEZpbHRlclBhbmVsSGVhZGVyUHJvcHMpID0+IChcbiAgICA8U3R5bGVkRmlsdGVySGVhZGVyXG4gICAgICBjbGFzc05hbWU9XCJmaWx0ZXItcGFuZWxfX2hlYWRlclwiXG4gICAgICAkbGFiZWxSQ0dDb2xvclZhbHVlcz17ZGF0YXNldHMubWFwKChkOiBLZXBsZXJUYWJsZSkgPT4gZC5jb2xvcil9XG4gICAgPlxuICAgICAgPFN0eWxlZENoaWxkcmVuQ29udGFpbmVyPntjaGlsZHJlbn08L1N0eWxlZENoaWxkcmVuQ29udGFpbmVyPlxuICAgICAgPFBhbmVsSGVhZGVyQWN0aW9uXG4gICAgICAgIGlkPXtmaWx0ZXIuaWR9XG4gICAgICAgIHRvb2x0aXA9XCJ0b29sdGlwLmRlbGV0ZVwiXG4gICAgICAgIHRvb2x0aXBUeXBlPVwiZXJyb3JcIlxuICAgICAgICBvbkNsaWNrPXtyZW1vdmVGaWx0ZXJ9XG4gICAgICAgIGhvdmVyQ29sb3I9eydlcnJvckNvbG9yJ31cbiAgICAgICAgSWNvbkNvbXBvbmVudD17YWN0aW9uSWNvbnMuZGVsZXRlfVxuICAgICAgLz5cbiAgICA8L1N0eWxlZEZpbHRlckhlYWRlcj5cbiAgKTtcblxuICByZXR1cm4gRmlsdGVyUGFuZWxIZWFkZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbHRlclBhbmVsSGVhZGVyRmFjdG9yeTtcbiJdfQ==