// Copyright (c) 2022 Uber Technologies, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AddDataButtonFactory = AddDataButtonFactory;
exports["default"] = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _localization = require("@kepler.gl/localization");

var _icons = require("../../common/icons");

var _styledComponents2 = require("../../common/styled-components");

var _sourceDataCatalog = _interopRequireDefault(require("../common/source-data-catalog"));

var _templateObject, _templateObject2;

var StyledDatasetTitle = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  line-height: ", ";\n  font-weight: 400;\n  letter-spacing: 1.25px;\n  color: ", ";\n  font-size: 11px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ", ";\n"])), function (props) {
  return props.theme.sidePanelTitleLineHeight;
}, function (props) {
  return props.theme.subtextColor;
}, function (props) {
  return props.showDatasetList ? '16px' : '4px';
});

var StyledDatasetSection = _styledComponents["default"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  margin: 0 -32px 0 -16px;\n  padding: 0 32px 0 16px;\n  border-bottom: 1px solid ", ";\n"])), function (props) {
  return props.theme.sidePanelBorderColor;
});

function AddDataButtonFactory() {
  var AddDataButton = /*#__PURE__*/_react["default"].memo(function (_ref) {
    var onClick = _ref.onClick,
        isInactive = _ref.isInactive;
    return /*#__PURE__*/_react["default"].createElement(_styledComponents2.Button, {
      className: "add-data-button",
      onClick: onClick,
      inactive: !isInactive,
      width: "105px",
      secondary: true
    }, /*#__PURE__*/_react["default"].createElement(_icons.Add, {
      height: "12px"
    }), /*#__PURE__*/_react["default"].createElement(_localization.FormattedMessage, {
      id: 'layerManager.addData'
    }));
  });

  AddDataButton.displayName = 'AddDataButton';
  return AddDataButton;
}

DatasetSectionFactory.deps = [_sourceDataCatalog["default"], AddDataButtonFactory];

function DatasetSectionFactory(SourceDataCatalog, AddDataButton) {
  var DatasetSection = function DatasetSection(props) {
    var datasets = props.datasets,
        showDatasetTable = props.showDatasetTable,
        updateTableColor = props.updateTableColor,
        showDeleteDataset = props.showDeleteDataset,
        removeDataset = props.removeDataset,
        showDatasetList = props.showDatasetList,
        showAddDataModal = props.showAddDataModal,
        defaultDataset = props.defaultDataset;
    var datasetCount = Object.keys(datasets).length;
    return /*#__PURE__*/_react["default"].createElement(StyledDatasetSection, null, /*#__PURE__*/_react["default"].createElement(StyledDatasetTitle, {
      showDatasetList: showDatasetList
    }, /*#__PURE__*/_react["default"].createElement("span", null, "Datasets (", datasetCount, ")"), /*#__PURE__*/_react["default"].createElement(AddDataButton, {
      onClick: showAddDataModal,
      isInactive: !defaultDataset
    })), showDatasetList && /*#__PURE__*/_react["default"].createElement(SourceDataCatalog, {
      datasets: datasets,
      showDatasetTable: showDatasetTable,
      updateTableColor: updateTableColor,
      removeDataset: removeDataset,
      showDeleteDataset: showDeleteDataset
    }));
  };

  return DatasetSection;
}

var _default = DatasetSectionFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXBhbmVsL2xheWVyLXBhbmVsL2RhdGFzZXQtc2VjdGlvbi50c3giXSwibmFtZXMiOlsiU3R5bGVkRGF0YXNldFRpdGxlIiwic3R5bGVkIiwiZGl2IiwicHJvcHMiLCJ0aGVtZSIsInNpZGVQYW5lbFRpdGxlTGluZUhlaWdodCIsInN1YnRleHRDb2xvciIsInNob3dEYXRhc2V0TGlzdCIsIlN0eWxlZERhdGFzZXRTZWN0aW9uIiwic2lkZVBhbmVsQm9yZGVyQ29sb3IiLCJBZGREYXRhQnV0dG9uRmFjdG9yeSIsIkFkZERhdGFCdXR0b24iLCJSZWFjdCIsIm1lbW8iLCJvbkNsaWNrIiwiaXNJbmFjdGl2ZSIsImRpc3BsYXlOYW1lIiwiRGF0YXNldFNlY3Rpb25GYWN0b3J5IiwiZGVwcyIsIlNvdXJjZURhdGFDYXRhbG9nRmFjdG9yeSIsIlNvdXJjZURhdGFDYXRhbG9nIiwiRGF0YXNldFNlY3Rpb24iLCJkYXRhc2V0cyIsInNob3dEYXRhc2V0VGFibGUiLCJ1cGRhdGVUYWJsZUNvbG9yIiwic2hvd0RlbGV0ZURhdGFzZXQiLCJyZW1vdmVEYXRhc2V0Iiwic2hvd0FkZERhdGFNb2RhbCIsImRlZmF1bHREYXRhc2V0IiwiZGF0YXNldENvdW50IiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBb0JBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7O0FBb0JBLElBQU1BLGtCQUFrQixHQUFHQyw2QkFBT0MsR0FBVix3U0FDUCxVQUFBQyxLQUFLO0FBQUEsU0FBSUEsS0FBSyxDQUFDQyxLQUFOLENBQVlDLHdCQUFoQjtBQUFBLENBREUsRUFJYixVQUFBRixLQUFLO0FBQUEsU0FBSUEsS0FBSyxDQUFDQyxLQUFOLENBQVlFLFlBQWhCO0FBQUEsQ0FKUSxFQVNMLFVBQUFILEtBQUs7QUFBQSxTQUFLQSxLQUFLLENBQUNJLGVBQU4sR0FBd0IsTUFBeEIsR0FBaUMsS0FBdEM7QUFBQSxDQVRBLENBQXhCOztBQVlBLElBQU1DLG9CQUFvQixHQUFHUCw2QkFBT0MsR0FBVixvTEFHRyxVQUFBQyxLQUFLO0FBQUEsU0FBSUEsS0FBSyxDQUFDQyxLQUFOLENBQVlLLG9CQUFoQjtBQUFBLENBSFIsQ0FBMUI7O0FBTU8sU0FBU0Msb0JBQVQsR0FBZ0M7QUFDckMsTUFBTUMsYUFBMkMsZ0JBQUdDLGtCQUFNQyxJQUFOLENBQVc7QUFBQSxRQUFFQyxPQUFGLFFBQUVBLE9BQUY7QUFBQSxRQUFXQyxVQUFYLFFBQVdBLFVBQVg7QUFBQSx3QkFDN0QsZ0NBQUMseUJBQUQ7QUFDRSxNQUFBLFNBQVMsRUFBQyxpQkFEWjtBQUVFLE1BQUEsT0FBTyxFQUFFRCxPQUZYO0FBR0UsTUFBQSxRQUFRLEVBQUUsQ0FBQ0MsVUFIYjtBQUlFLE1BQUEsS0FBSyxFQUFDLE9BSlI7QUFLRSxNQUFBLFNBQVM7QUFMWCxvQkFPRSxnQ0FBQyxVQUFEO0FBQUssTUFBQSxNQUFNLEVBQUM7QUFBWixNQVBGLGVBUUUsZ0NBQUMsOEJBQUQ7QUFBa0IsTUFBQSxFQUFFLEVBQUU7QUFBdEIsTUFSRixDQUQ2RDtBQUFBLEdBQVgsQ0FBcEQ7O0FBWUFKLEVBQUFBLGFBQWEsQ0FBQ0ssV0FBZCxHQUE0QixlQUE1QjtBQUNBLFNBQU9MLGFBQVA7QUFDRDs7QUFFRE0scUJBQXFCLENBQUNDLElBQXRCLEdBQTZCLENBQUNDLDZCQUFELEVBQTJCVCxvQkFBM0IsQ0FBN0I7O0FBRUEsU0FBU08scUJBQVQsQ0FDRUcsaUJBREYsRUFFRVQsYUFGRixFQUdFO0FBQ0EsTUFBTVUsY0FBNkMsR0FBRyxTQUFoREEsY0FBZ0QsQ0FBQWxCLEtBQUssRUFBSTtBQUFBLFFBRTNEbUIsUUFGMkQsR0FVekRuQixLQVZ5RCxDQUUzRG1CLFFBRjJEO0FBQUEsUUFHM0RDLGdCQUgyRCxHQVV6RHBCLEtBVnlELENBRzNEb0IsZ0JBSDJEO0FBQUEsUUFJM0RDLGdCQUoyRCxHQVV6RHJCLEtBVnlELENBSTNEcUIsZ0JBSjJEO0FBQUEsUUFLM0RDLGlCQUwyRCxHQVV6RHRCLEtBVnlELENBSzNEc0IsaUJBTDJEO0FBQUEsUUFNM0RDLGFBTjJELEdBVXpEdkIsS0FWeUQsQ0FNM0R1QixhQU4yRDtBQUFBLFFBTzNEbkIsZUFQMkQsR0FVekRKLEtBVnlELENBTzNESSxlQVAyRDtBQUFBLFFBUTNEb0IsZ0JBUjJELEdBVXpEeEIsS0FWeUQsQ0FRM0R3QixnQkFSMkQ7QUFBQSxRQVMzREMsY0FUMkQsR0FVekR6QixLQVZ5RCxDQVMzRHlCLGNBVDJEO0FBVzdELFFBQU1DLFlBQVksR0FBR0MsTUFBTSxDQUFDQyxJQUFQLENBQVlULFFBQVosRUFBc0JVLE1BQTNDO0FBRUEsd0JBQ0UsZ0NBQUMsb0JBQUQscUJBQ0UsZ0NBQUMsa0JBQUQ7QUFBb0IsTUFBQSxlQUFlLEVBQUV6QjtBQUFyQyxvQkFDRSw0REFBaUJzQixZQUFqQixNQURGLGVBRUUsZ0NBQUMsYUFBRDtBQUFlLE1BQUEsT0FBTyxFQUFFRixnQkFBeEI7QUFBMEMsTUFBQSxVQUFVLEVBQUUsQ0FBQ0M7QUFBdkQsTUFGRixDQURGLEVBS0dyQixlQUFlLGlCQUNkLGdDQUFDLGlCQUFEO0FBQ0UsTUFBQSxRQUFRLEVBQUVlLFFBRFo7QUFFRSxNQUFBLGdCQUFnQixFQUFFQyxnQkFGcEI7QUFHRSxNQUFBLGdCQUFnQixFQUFFQyxnQkFIcEI7QUFJRSxNQUFBLGFBQWEsRUFBRUUsYUFKakI7QUFLRSxNQUFBLGlCQUFpQixFQUFFRDtBQUxyQixNQU5KLENBREY7QUFpQkQsR0E5QkQ7O0FBZ0NBLFNBQU9KLGNBQVA7QUFDRDs7ZUFFY0oscUIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjIgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1hdHRlZE1lc3NhZ2V9IGZyb20gJ0BrZXBsZXIuZ2wvbG9jYWxpemF0aW9uJztcbmltcG9ydCB7QWRkfSBmcm9tICcuLi8uLi9jb21tb24vaWNvbnMnO1xuaW1wb3J0IHtCdXR0b259IGZyb20gJy4uLy4uL2NvbW1vbi9zdHlsZWQtY29tcG9uZW50cyc7XG5cbmltcG9ydCBTb3VyY2VEYXRhQ2F0YWxvZ0ZhY3RvcnkgZnJvbSAnLi4vY29tbW9uL3NvdXJjZS1kYXRhLWNhdGFsb2cnO1xuaW1wb3J0IHtVSVN0YXRlQWN0aW9ucywgVmlzU3RhdGVBY3Rpb25zLCBBY3Rpb25IYW5kbGVyfSBmcm9tICdAa2VwbGVyLmdsL2FjdGlvbnMnO1xuaW1wb3J0IHtEYXRhc2V0c30gZnJvbSAnQGtlcGxlci5nbC90YWJsZSc7XG5cbnR5cGUgQWRkRGF0YUJ1dHRvblByb3BzID0ge1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xuICBpc0luYWN0aXZlOiBib29sZWFuO1xufTtcblxudHlwZSBEYXRhc2V0U2VjdGlvblByb3BzID0ge1xuICBkYXRhc2V0czogRGF0YXNldHM7XG4gIGRlZmF1bHREYXRhc2V0OiBzdHJpbmc7XG4gIHNob3dEYXRhc2V0TGlzdDogYm9vbGVhbjtcbiAgc2hvd0RlbGV0ZURhdGFzZXQ6IGJvb2xlYW47XG4gIHNob3dEYXRhc2V0VGFibGU6IEFjdGlvbkhhbmRsZXI8dHlwZW9mIFZpc1N0YXRlQWN0aW9ucy5zaG93RGF0YXNldFRhYmxlPjtcbiAgdXBkYXRlVGFibGVDb2xvcjogQWN0aW9uSGFuZGxlcjx0eXBlb2YgVmlzU3RhdGVBY3Rpb25zLnVwZGF0ZVRhYmxlQ29sb3I+O1xuICByZW1vdmVEYXRhc2V0OiBBY3Rpb25IYW5kbGVyPHR5cGVvZiBVSVN0YXRlQWN0aW9ucy5vcGVuRGVsZXRlTW9kYWw+O1xuICBzaG93QWRkRGF0YU1vZGFsOiAoKSA9PiB2b2lkO1xufTtcblxuY29uc3QgU3R5bGVkRGF0YXNldFRpdGxlID0gc3R5bGVkLmRpdjx7c2hvd0RhdGFzZXRMaXN0OiBib29sZWFufT5gXG4gIGxpbmUtaGVpZ2h0OiAke3Byb3BzID0+IHByb3BzLnRoZW1lLnNpZGVQYW5lbFRpdGxlTGluZUhlaWdodH07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGxldHRlci1zcGFjaW5nOiAxLjI1cHg7XG4gIGNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLnN1YnRleHRDb2xvcn07XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAke3Byb3BzID0+IChwcm9wcy5zaG93RGF0YXNldExpc3QgPyAnMTZweCcgOiAnNHB4Jyl9O1xuYDtcblxuY29uc3QgU3R5bGVkRGF0YXNldFNlY3Rpb24gPSBzdHlsZWQuZGl2YFxuICBtYXJnaW46IDAgLTMycHggMCAtMTZweDtcbiAgcGFkZGluZzogMCAzMnB4IDAgMTZweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICR7cHJvcHMgPT4gcHJvcHMudGhlbWUuc2lkZVBhbmVsQm9yZGVyQ29sb3J9O1xuYDtcblxuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFCdXR0b25GYWN0b3J5KCkge1xuICBjb25zdCBBZGREYXRhQnV0dG9uOiBSZWFjdC5GQzxBZGREYXRhQnV0dG9uUHJvcHM+ID0gUmVhY3QubWVtbygoe29uQ2xpY2ssIGlzSW5hY3RpdmV9KSA9PiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYWRkLWRhdGEtYnV0dG9uXCJcbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBpbmFjdGl2ZT17IWlzSW5hY3RpdmV9XG4gICAgICB3aWR0aD1cIjEwNXB4XCJcbiAgICAgIHNlY29uZGFyeVxuICAgID5cbiAgICAgIDxBZGQgaGVpZ2h0PVwiMTJweFwiIC8+XG4gICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD17J2xheWVyTWFuYWdlci5hZGREYXRhJ30gLz5cbiAgICA8L0J1dHRvbj5cbiAgKSk7XG4gIEFkZERhdGFCdXR0b24uZGlzcGxheU5hbWUgPSAnQWRkRGF0YUJ1dHRvbic7XG4gIHJldHVybiBBZGREYXRhQnV0dG9uO1xufVxuXG5EYXRhc2V0U2VjdGlvbkZhY3RvcnkuZGVwcyA9IFtTb3VyY2VEYXRhQ2F0YWxvZ0ZhY3RvcnksIEFkZERhdGFCdXR0b25GYWN0b3J5XTtcblxuZnVuY3Rpb24gRGF0YXNldFNlY3Rpb25GYWN0b3J5KFxuICBTb3VyY2VEYXRhQ2F0YWxvZzogUmV0dXJuVHlwZTx0eXBlb2YgU291cmNlRGF0YUNhdGFsb2dGYWN0b3J5PixcbiAgQWRkRGF0YUJ1dHRvbjogUmV0dXJuVHlwZTx0eXBlb2YgQWRkRGF0YUJ1dHRvbkZhY3Rvcnk+XG4pIHtcbiAgY29uc3QgRGF0YXNldFNlY3Rpb246IFJlYWN0LkZDPERhdGFzZXRTZWN0aW9uUHJvcHM+ID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGFzZXRzLFxuICAgICAgc2hvd0RhdGFzZXRUYWJsZSxcbiAgICAgIHVwZGF0ZVRhYmxlQ29sb3IsXG4gICAgICBzaG93RGVsZXRlRGF0YXNldCxcbiAgICAgIHJlbW92ZURhdGFzZXQsXG4gICAgICBzaG93RGF0YXNldExpc3QsXG4gICAgICBzaG93QWRkRGF0YU1vZGFsLFxuICAgICAgZGVmYXVsdERhdGFzZXRcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgZGF0YXNldENvdW50ID0gT2JqZWN0LmtleXMoZGF0YXNldHMpLmxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8U3R5bGVkRGF0YXNldFNlY3Rpb24+XG4gICAgICAgIDxTdHlsZWREYXRhc2V0VGl0bGUgc2hvd0RhdGFzZXRMaXN0PXtzaG93RGF0YXNldExpc3R9PlxuICAgICAgICAgIDxzcGFuPkRhdGFzZXRzICh7ZGF0YXNldENvdW50fSk8L3NwYW4+XG4gICAgICAgICAgPEFkZERhdGFCdXR0b24gb25DbGljaz17c2hvd0FkZERhdGFNb2RhbH0gaXNJbmFjdGl2ZT17IWRlZmF1bHREYXRhc2V0fSAvPlxuICAgICAgICA8L1N0eWxlZERhdGFzZXRUaXRsZT5cbiAgICAgICAge3Nob3dEYXRhc2V0TGlzdCAmJiAoXG4gICAgICAgICAgPFNvdXJjZURhdGFDYXRhbG9nXG4gICAgICAgICAgICBkYXRhc2V0cz17ZGF0YXNldHN9XG4gICAgICAgICAgICBzaG93RGF0YXNldFRhYmxlPXtzaG93RGF0YXNldFRhYmxlfVxuICAgICAgICAgICAgdXBkYXRlVGFibGVDb2xvcj17dXBkYXRlVGFibGVDb2xvcn1cbiAgICAgICAgICAgIHJlbW92ZURhdGFzZXQ9e3JlbW92ZURhdGFzZXR9XG4gICAgICAgICAgICBzaG93RGVsZXRlRGF0YXNldD17c2hvd0RlbGV0ZURhdGFzZXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvU3R5bGVkRGF0YXNldFNlY3Rpb24+XG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gRGF0YXNldFNlY3Rpb247XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFzZXRTZWN0aW9uRmFjdG9yeTtcbiJdfQ==