// Copyright (c) 2022 Uber Technologies, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireWildcard(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _portaled = _interopRequireDefault(require("../portaled"));

var _dropdownList = _interopRequireDefault(require("../item-selector/dropdown-list"));

var _constants = require("@kepler.gl/constants");

var _icons = require("../icons");

var _templateObject;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var ListItem = function ListItem(_ref) {
  var value = _ref.value;
  return /*#__PURE__*/_react["default"].createElement("div", null, /*#__PURE__*/_react["default"].createElement(value.icon, {
    height: "13px"
  }), value.display);
};

var StyledOptionsDropdown = _styledComponents["default"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  .list-selector {\n    border-top: 0;\n    width: max-content;\n    padding: 8px 0;\n  }\n\n  .list__item > div {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    justify-content: flex-start;\n    line-height: 18px;\n\n    svg {\n      margin-right: 5px;\n    }\n  }\n"])));

var OptionDropdown = function OptionDropdown(props) {
  var isOpened = props.isOpened,
      column = props.column,
      toggleMoreOptions = props.toggleMoreOptions,
      sortTableColumn = props.sortTableColumn,
      pinTableColumn = props.pinTableColumn,
      copyTableColumn = props.copyTableColumn;
  var onOptionSelected = (0, _react.useCallback)(function (_ref2) {
    var value = _ref2.value;

    switch (value) {
      case _constants.TABLE_OPTION.SORT_ASC:
        sortTableColumn(_constants.SORT_ORDER.ASCENDING);
        break;

      case _constants.TABLE_OPTION.SORT_DES:
        sortTableColumn(_constants.SORT_ORDER.DESCENDING);
        break;

      case _constants.TABLE_OPTION.UNSORT:
        sortTableColumn(_constants.SORT_ORDER.UNSORT);
        break;

      case _constants.TABLE_OPTION.PIN:
        pinTableColumn();
        break;

      case _constants.TABLE_OPTION.UNPIN:
        pinTableColumn();
        break;

      case _constants.TABLE_OPTION.COPY:
        copyTableColumn();
        break;

      default:
        break;
    }

    toggleMoreOptions(column);
  }, [column, sortTableColumn, pinTableColumn, copyTableColumn, toggleMoreOptions]);
  var TABLE_OPTION_LIST_ICONS = {
    Pin: _icons.Pin,
    ArrowDown: _icons.ArrowDown,
    ArrowUp: _icons.ArrowUp,
    Clipboard: _icons.Clipboard,
    Cancel: _icons.Cancel
  };

  var options = _constants.TABLE_OPTION_LIST.filter(function (op) {
    return !op.condition || op.condition(props);
  }).map(function (op) {
    return _objectSpread(_objectSpread({}, op), {}, {
      icon: TABLE_OPTION_LIST_ICONS[op.icon]
    });
  });

  return /*#__PURE__*/_react["default"].createElement(_portaled["default"], {
    right: 120,
    top: 20,
    isOpened: isOpened,
    onClose: function onClose() {
      return toggleMoreOptions(column);
    }
  }, /*#__PURE__*/_react["default"].createElement(StyledOptionsDropdown, {
    className: "more-options"
  }, /*#__PURE__*/_react["default"].createElement(_dropdownList["default"], {
    displayOption: function displayOption(d) {
      return d.display;
    },
    options: options,
    customListItemComponent: ListItem,
    onOptionSelected: onOptionSelected,
    light: true
  })));
};

var _default = OptionDropdown;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vZGF0YS10YWJsZS9vcHRpb24tZHJvcGRvd24udHN4Il0sIm5hbWVzIjpbIkxpc3RJdGVtIiwidmFsdWUiLCJkaXNwbGF5IiwiU3R5bGVkT3B0aW9uc0Ryb3Bkb3duIiwic3R5bGVkIiwiZGl2IiwiT3B0aW9uRHJvcGRvd24iLCJwcm9wcyIsImlzT3BlbmVkIiwiY29sdW1uIiwidG9nZ2xlTW9yZU9wdGlvbnMiLCJzb3J0VGFibGVDb2x1bW4iLCJwaW5UYWJsZUNvbHVtbiIsImNvcHlUYWJsZUNvbHVtbiIsIm9uT3B0aW9uU2VsZWN0ZWQiLCJUQUJMRV9PUFRJT04iLCJTT1JUX0FTQyIsIlNPUlRfT1JERVIiLCJBU0NFTkRJTkciLCJTT1JUX0RFUyIsIkRFU0NFTkRJTkciLCJVTlNPUlQiLCJQSU4iLCJVTlBJTiIsIkNPUFkiLCJUQUJMRV9PUFRJT05fTElTVF9JQ09OUyIsIlBpbiIsIkFycm93RG93biIsIkFycm93VXAiLCJDbGlwYm9hcmQiLCJDYW5jZWwiLCJvcHRpb25zIiwiVEFCTEVfT1BUSU9OX0xJU1QiLCJmaWx0ZXIiLCJvcCIsImNvbmRpdGlvbiIsIm1hcCIsImljb24iLCJkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFvQkE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUEsSUFBTUEsUUFBUSxHQUFHLFNBQVhBLFFBQVc7QUFBQSxNQUFFQyxLQUFGLFFBQUVBLEtBQUY7QUFBQSxzQkFDZiwwREFDRSxnQ0FBQyxLQUFELENBQU8sSUFBUDtBQUFZLElBQUEsTUFBTSxFQUFDO0FBQW5CLElBREYsRUFFR0EsS0FBSyxDQUFDQyxPQUZULENBRGU7QUFBQSxDQUFqQjs7QUFPQSxJQUFNQyxxQkFBcUIsR0FBR0MsNkJBQU9DLEdBQVYsaVlBQTNCOztBQWdDQSxJQUFNQyxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNDLEtBQUQsRUFBZ0M7QUFBQSxNQUVuREMsUUFGbUQsR0FRakRELEtBUmlELENBRW5EQyxRQUZtRDtBQUFBLE1BR25EQyxNQUhtRCxHQVFqREYsS0FSaUQsQ0FHbkRFLE1BSG1EO0FBQUEsTUFJbkRDLGlCQUptRCxHQVFqREgsS0FSaUQsQ0FJbkRHLGlCQUptRDtBQUFBLE1BS25EQyxlQUxtRCxHQVFqREosS0FSaUQsQ0FLbkRJLGVBTG1EO0FBQUEsTUFNbkRDLGNBTm1ELEdBUWpETCxLQVJpRCxDQU1uREssY0FObUQ7QUFBQSxNQU9uREMsZUFQbUQsR0FRakROLEtBUmlELENBT25ETSxlQVBtRDtBQVNyRCxNQUFNQyxnQkFBZ0IsR0FBRyx3QkFDdkIsaUJBQWE7QUFBQSxRQUFYYixLQUFXLFNBQVhBLEtBQVc7O0FBQ1gsWUFBUUEsS0FBUjtBQUNFLFdBQUtjLHdCQUFhQyxRQUFsQjtBQUNFTCxRQUFBQSxlQUFlLENBQUNNLHNCQUFXQyxTQUFaLENBQWY7QUFDQTs7QUFDRixXQUFLSCx3QkFBYUksUUFBbEI7QUFDRVIsUUFBQUEsZUFBZSxDQUFDTSxzQkFBV0csVUFBWixDQUFmO0FBQ0E7O0FBQ0YsV0FBS0wsd0JBQWFNLE1BQWxCO0FBQ0VWLFFBQUFBLGVBQWUsQ0FBQ00sc0JBQVdJLE1BQVosQ0FBZjtBQUNBOztBQUNGLFdBQUtOLHdCQUFhTyxHQUFsQjtBQUNFVixRQUFBQSxjQUFjO0FBQ2Q7O0FBQ0YsV0FBS0csd0JBQWFRLEtBQWxCO0FBQ0VYLFFBQUFBLGNBQWM7QUFDZDs7QUFDRixXQUFLRyx3QkFBYVMsSUFBbEI7QUFDRVgsUUFBQUEsZUFBZTtBQUNmOztBQUNGO0FBQ0U7QUFwQko7O0FBdUJBSCxJQUFBQSxpQkFBaUIsQ0FBQ0QsTUFBRCxDQUFqQjtBQUNELEdBMUJzQixFQTJCdkIsQ0FBQ0EsTUFBRCxFQUFTRSxlQUFULEVBQTBCQyxjQUExQixFQUEwQ0MsZUFBMUMsRUFBMkRILGlCQUEzRCxDQTNCdUIsQ0FBekI7QUE4QkEsTUFBTWUsdUJBQXVCLEdBQUc7QUFDOUJDLElBQUFBLEdBQUcsRUFBSEEsVUFEOEI7QUFFOUJDLElBQUFBLFNBQVMsRUFBVEEsZ0JBRjhCO0FBRzlCQyxJQUFBQSxPQUFPLEVBQVBBLGNBSDhCO0FBSTlCQyxJQUFBQSxTQUFTLEVBQVRBLGdCQUo4QjtBQUs5QkMsSUFBQUEsTUFBTSxFQUFOQTtBQUw4QixHQUFoQzs7QUFRQSxNQUFNQyxPQUFPLEdBQUdDLDZCQUFrQkMsTUFBbEIsQ0FBeUIsVUFBQUMsRUFBRTtBQUFBLFdBQUksQ0FBQ0EsRUFBRSxDQUFDQyxTQUFKLElBQWlCRCxFQUFFLENBQUNDLFNBQUgsQ0FBYTVCLEtBQWIsQ0FBckI7QUFBQSxHQUEzQixFQUFxRTZCLEdBQXJFLENBQXlFLFVBQUFGLEVBQUU7QUFBQSwyQ0FDdEZBLEVBRHNGO0FBRXpGRyxNQUFBQSxJQUFJLEVBQUVaLHVCQUF1QixDQUFDUyxFQUFFLENBQUNHLElBQUo7QUFGNEQ7QUFBQSxHQUEzRSxDQUFoQjs7QUFLQSxzQkFDRSxnQ0FBQyxvQkFBRDtBQUFVLElBQUEsS0FBSyxFQUFFLEdBQWpCO0FBQXNCLElBQUEsR0FBRyxFQUFFLEVBQTNCO0FBQStCLElBQUEsUUFBUSxFQUFFN0IsUUFBekM7QUFBbUQsSUFBQSxPQUFPLEVBQUU7QUFBQSxhQUFNRSxpQkFBaUIsQ0FBQ0QsTUFBRCxDQUF2QjtBQUFBO0FBQTVELGtCQUNFLGdDQUFDLHFCQUFEO0FBQXVCLElBQUEsU0FBUyxFQUFDO0FBQWpDLGtCQUNFLGdDQUFDLHdCQUFEO0FBQ0UsSUFBQSxhQUFhLEVBQUUsdUJBQUE2QixDQUFDO0FBQUEsYUFBSUEsQ0FBQyxDQUFDcEMsT0FBTjtBQUFBLEtBRGxCO0FBRUUsSUFBQSxPQUFPLEVBQUU2QixPQUZYO0FBR0UsSUFBQSx1QkFBdUIsRUFBRS9CLFFBSDNCO0FBSUUsSUFBQSxnQkFBZ0IsRUFBRWMsZ0JBSnBCO0FBS0UsSUFBQSxLQUFLO0FBTFAsSUFERixDQURGLENBREY7QUFhRCxDQWpFRDs7ZUFtRWVSLGMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjIgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5pbXBvcnQgUmVhY3QsIHt1c2VDYWxsYmFja30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgUG9ydGFsZWQgZnJvbSAnLi4vcG9ydGFsZWQnO1xuaW1wb3J0IERyb3Bkb3duTGlzdCBmcm9tICcuLi9pdGVtLXNlbGVjdG9yL2Ryb3Bkb3duLWxpc3QnO1xuaW1wb3J0IHtTT1JUX09SREVSLCBUQUJMRV9PUFRJT04sIFRBQkxFX09QVElPTl9MSVNUfSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XG5pbXBvcnQge0Fycm93RG93biwgQXJyb3dVcCwgQ2xpcGJvYXJkLCBQaW4sIENhbmNlbH0gZnJvbSAnLi4vaWNvbnMnO1xuXG5jb25zdCBMaXN0SXRlbSA9ICh7dmFsdWV9KSA9PiAoXG4gIDxkaXY+XG4gICAgPHZhbHVlLmljb24gaGVpZ2h0PVwiMTNweFwiIC8+XG4gICAge3ZhbHVlLmRpc3BsYXl9XG4gIDwvZGl2PlxuKTtcblxuY29uc3QgU3R5bGVkT3B0aW9uc0Ryb3Bkb3duID0gc3R5bGVkLmRpdmBcbiAgLmxpc3Qtc2VsZWN0b3Ige1xuICAgIGJvcmRlci10b3A6IDA7XG4gICAgd2lkdGg6IG1heC1jb250ZW50O1xuICAgIHBhZGRpbmc6IDhweCAwO1xuICB9XG5cbiAgLmxpc3RfX2l0ZW0gPiBkaXYge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICBsaW5lLWhlaWdodDogMThweDtcblxuICAgIHN2ZyB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG4gIH1cbmA7XG5cbmludGVyZmFjZSBPcHRpb25Ecm9wZG93blByb3BzIHtcbiAgaXNPcGVuZWQ/OiBib29sZWFuO1xuICBjb2x1bW46IHN0cmluZztcbiAgdG9nZ2xlTW9yZU9wdGlvbnM6IChjb2x1bW46IHN0cmluZykgPT4gdm9pZDtcbiAgc29ydFRhYmxlQ29sdW1uOiAoc29ydDogc3RyaW5nKSA9PiB2b2lkO1xuICBwaW5UYWJsZUNvbHVtbjogKCkgPT4gdm9pZDtcbiAgY29weVRhYmxlQ29sdW1uOiAoKSA9PiB2b2lkO1xuICBzb3J0TW9kZT86IHN0cmluZztcbiAgaXNTb3J0ZWQ/OiBzdHJpbmc7XG4gIGlzUGlubmVkPzogYm9vbGVhbjtcbn1cblxuY29uc3QgT3B0aW9uRHJvcGRvd24gPSAocHJvcHM6IE9wdGlvbkRyb3Bkb3duUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGlzT3BlbmVkLFxuICAgIGNvbHVtbixcbiAgICB0b2dnbGVNb3JlT3B0aW9ucyxcbiAgICBzb3J0VGFibGVDb2x1bW4sXG4gICAgcGluVGFibGVDb2x1bW4sXG4gICAgY29weVRhYmxlQ29sdW1uXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgb25PcHRpb25TZWxlY3RlZCA9IHVzZUNhbGxiYWNrKFxuICAgICh7dmFsdWV9KSA9PiB7XG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLlNPUlRfQVNDOlxuICAgICAgICAgIHNvcnRUYWJsZUNvbHVtbihTT1JUX09SREVSLkFTQ0VORElORyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLlNPUlRfREVTOlxuICAgICAgICAgIHNvcnRUYWJsZUNvbHVtbihTT1JUX09SREVSLkRFU0NFTkRJTkcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRBQkxFX09QVElPTi5VTlNPUlQ6XG4gICAgICAgICAgc29ydFRhYmxlQ29sdW1uKFNPUlRfT1JERVIuVU5TT1JUKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUQUJMRV9PUFRJT04uUElOOlxuICAgICAgICAgIHBpblRhYmxlQ29sdW1uKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLlVOUElOOlxuICAgICAgICAgIHBpblRhYmxlQ29sdW1uKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVEFCTEVfT1BUSU9OLkNPUFk6XG4gICAgICAgICAgY29weVRhYmxlQ29sdW1uKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHRvZ2dsZU1vcmVPcHRpb25zKGNvbHVtbik7XG4gICAgfSxcbiAgICBbY29sdW1uLCBzb3J0VGFibGVDb2x1bW4sIHBpblRhYmxlQ29sdW1uLCBjb3B5VGFibGVDb2x1bW4sIHRvZ2dsZU1vcmVPcHRpb25zXVxuICApO1xuXG4gIGNvbnN0IFRBQkxFX09QVElPTl9MSVNUX0lDT05TID0ge1xuICAgIFBpbixcbiAgICBBcnJvd0Rvd24sXG4gICAgQXJyb3dVcCxcbiAgICBDbGlwYm9hcmQsXG4gICAgQ2FuY2VsXG4gIH07XG5cbiAgY29uc3Qgb3B0aW9ucyA9IFRBQkxFX09QVElPTl9MSVNULmZpbHRlcihvcCA9PiAhb3AuY29uZGl0aW9uIHx8IG9wLmNvbmRpdGlvbihwcm9wcykpLm1hcChvcCA9PiAoe1xuICAgIC4uLm9wLFxuICAgIGljb246IFRBQkxFX09QVElPTl9MSVNUX0lDT05TW29wLmljb25dXG4gIH0pKTtcblxuICByZXR1cm4gKFxuICAgIDxQb3J0YWxlZCByaWdodD17MTIwfSB0b3A9ezIwfSBpc09wZW5lZD17aXNPcGVuZWR9IG9uQ2xvc2U9eygpID0+IHRvZ2dsZU1vcmVPcHRpb25zKGNvbHVtbil9PlxuICAgICAgPFN0eWxlZE9wdGlvbnNEcm9wZG93biBjbGFzc05hbWU9XCJtb3JlLW9wdGlvbnNcIj5cbiAgICAgICAgPERyb3Bkb3duTGlzdFxuICAgICAgICAgIGRpc3BsYXlPcHRpb249e2QgPT4gZC5kaXNwbGF5fVxuICAgICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgICAgY3VzdG9tTGlzdEl0ZW1Db21wb25lbnQ9e0xpc3RJdGVtfVxuICAgICAgICAgIG9uT3B0aW9uU2VsZWN0ZWQ9e29uT3B0aW9uU2VsZWN0ZWR9XG4gICAgICAgICAgbGlnaHRcbiAgICAgICAgLz5cbiAgICAgIDwvU3R5bGVkT3B0aW9uc0Ryb3Bkb3duPlxuICAgIDwvUG9ydGFsZWQ+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBPcHRpb25Ecm9wZG93bjtcbiJdfQ==