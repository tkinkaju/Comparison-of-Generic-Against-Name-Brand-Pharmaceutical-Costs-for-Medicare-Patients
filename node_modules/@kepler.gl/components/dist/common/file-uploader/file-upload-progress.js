// Copyright (c) 2022 Uber Technologies, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireWildcard(require("styled-components"));

var _classnames = _interopRequireDefault(require("classnames"));

var _progressBar = _interopRequireDefault(require("../progress-bar"));

var _styledComponents2 = require("../styled-components");

var _utils = require("@kepler.gl/utils");

var _templateObject, _templateObject2, _templateObject3;

var StyledFileProgress = _styledComponents["default"].div.attrs(function (props) {
  return {
    className: (0, _classnames["default"])('file-upload__progress', props.className)
  };
})(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2["default"])(["\n  color: ", ";\n  font-size: 12px;\n  margin-top: 12px;\n  border-image: initial;\n  padding: 8px 12px;\n\n  .top-row {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .file-name {\n    font-weight: 500;\n  }\n  .middle-row {\n    margin-top: 6px;\n  }\n  .bottom-row {\n    margin-top: 6px;\n    text-align: start;\n  }\n"])), function (props) {
  return props.theme.textColorLT;
});

var StyledProgressWrapper = _styledComponents["default"].div.attrs({
  className: 'file-upload__progress__wrapper'
})(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2["default"])(["\n  width: 400px;\n"])));

var StyledContainer = _styledComponents["default"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2["default"])(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"])));

var formatPercent = function formatPercent(percent) {
  return "".concat(Math.floor(percent * 100), "%");
};

/**
 * @param {object} params
 * @param {string} params.message
 * @param {string} params.fileName
 * @param {number} params.percent
 * @param {any} params.error
 * @param {object} params.theme
 */
var UploadProgress = function UploadProgress(_ref) {
  var message = _ref.message,
      fileName = _ref.fileName,
      percent = _ref.percent,
      error = _ref.error,
      theme = _ref.theme;
  var percentStr = formatPercent(percent);
  var barColor = error ? theme.errorColor : theme.activeColorLT;
  return /*#__PURE__*/_react["default"].createElement(StyledFileProgress, {
    className: "file-upload-progress__message"
  }, /*#__PURE__*/_react["default"].createElement("div", {
    className: "top-row"
  }, /*#__PURE__*/_react["default"].createElement(_styledComponents2.TruncatedTitleText, {
    className: "file-name",
    title: fileName
  }, fileName), /*#__PURE__*/_react["default"].createElement("div", {
    className: "percent"
  }, percentStr)), /*#__PURE__*/_react["default"].createElement("div", {
    className: "middle-row"
  }, /*#__PURE__*/_react["default"].createElement(_progressBar["default"], {
    percent: percentStr,
    barColor: barColor,
    isLoading: true,
    theme: theme
  })), /*#__PURE__*/_react["default"].createElement("div", {
    className: "bottom-row",
    style: {
      color: error ? theme.errorColor : theme.textColorLT
    }
  }, error ? (0, _utils.getError)(error) : message));
};

/** @type {React.FunctionComponent<FileUploadProgressProps>} */
var FileUploadProgress = function FileUploadProgress(_ref2) {
  var fileLoadingProgress = _ref2.fileLoadingProgress,
      theme = _ref2.theme;
  return /*#__PURE__*/_react["default"].createElement(StyledContainer, null, /*#__PURE__*/_react["default"].createElement(StyledProgressWrapper, null, Object.values(fileLoadingProgress).map(function (item) {
    return /*#__PURE__*/_react["default"].createElement(UploadProgress, (0, _extends2["default"])({}, item, {
      key: item.fileName,
      theme: theme
    }));
  })));
};

var _default = (0, _styledComponents.withTheme)(FileUploadProgress);

exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vZmlsZS11cGxvYWRlci9maWxlLXVwbG9hZC1wcm9ncmVzcy50c3giXSwibmFtZXMiOlsiU3R5bGVkRmlsZVByb2dyZXNzIiwic3R5bGVkIiwiZGl2IiwiYXR0cnMiLCJwcm9wcyIsImNsYXNzTmFtZSIsInRoZW1lIiwidGV4dENvbG9yTFQiLCJTdHlsZWRQcm9ncmVzc1dyYXBwZXIiLCJTdHlsZWRDb250YWluZXIiLCJmb3JtYXRQZXJjZW50IiwicGVyY2VudCIsIk1hdGgiLCJmbG9vciIsIlVwbG9hZFByb2dyZXNzIiwibWVzc2FnZSIsImZpbGVOYW1lIiwiZXJyb3IiLCJwZXJjZW50U3RyIiwiYmFyQ29sb3IiLCJlcnJvckNvbG9yIiwiYWN0aXZlQ29sb3JMVCIsImNvbG9yIiwiRmlsZVVwbG9hZFByb2dyZXNzIiwiZmlsZUxvYWRpbmdQcm9ncmVzcyIsIk9iamVjdCIsInZhbHVlcyIsIm1hcCIsIml0ZW0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQW9CQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLElBQU1BLGtCQUFrQixHQUFHQyw2QkFBT0MsR0FBUCxDQUFXQyxLQUFYLENBQWlCLFVBQUFDLEtBQUs7QUFBQSxTQUFLO0FBQ3BEQyxJQUFBQSxTQUFTLEVBQUUsNEJBQVcsdUJBQVgsRUFBb0NELEtBQUssQ0FBQ0MsU0FBMUM7QUFEeUMsR0FBTDtBQUFBLENBQXRCLENBQUgsOGFBR2IsVUFBQUQsS0FBSztBQUFBLFNBQUlBLEtBQUssQ0FBQ0UsS0FBTixDQUFZQyxXQUFoQjtBQUFBLENBSFEsQ0FBeEI7O0FBMEJBLElBQU1DLHFCQUFxQixHQUFHUCw2QkFBT0MsR0FBUCxDQUFXQyxLQUFYLENBQWlCO0FBQzdDRSxFQUFBQSxTQUFTLEVBQUU7QUFEa0MsQ0FBakIsQ0FBSCwyR0FBM0I7O0FBTUEsSUFBTUksZUFBZSxHQUFHUiw2QkFBT0MsR0FBVix3SkFBckI7O0FBTUEsSUFBTVEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFBQyxPQUFPO0FBQUEsbUJBQU9DLElBQUksQ0FBQ0MsS0FBTCxDQUFXRixPQUFPLEdBQUcsR0FBckIsQ0FBUDtBQUFBLENBQTdCOztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNRyxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLE9BQXFFO0FBQUEsTUFBbkVDLE9BQW1FLFFBQW5FQSxPQUFtRTtBQUFBLE1BQTFEQyxRQUEwRCxRQUExREEsUUFBMEQ7QUFBQSxNQUFoREwsT0FBZ0QsUUFBaERBLE9BQWdEO0FBQUEsTUFBdkNNLEtBQXVDLFFBQXZDQSxLQUF1QztBQUFBLE1BQWhDWCxLQUFnQyxRQUFoQ0EsS0FBZ0M7QUFDMUYsTUFBTVksVUFBVSxHQUFHUixhQUFhLENBQUNDLE9BQUQsQ0FBaEM7QUFDQSxNQUFNUSxRQUFRLEdBQUdGLEtBQUssR0FBR1gsS0FBSyxDQUFDYyxVQUFULEdBQXNCZCxLQUFLLENBQUNlLGFBQWxEO0FBRUEsc0JBQ0UsZ0NBQUMsa0JBQUQ7QUFBb0IsSUFBQSxTQUFTLEVBQUM7QUFBOUIsa0JBQ0U7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLGtCQUNFLGdDQUFDLHFDQUFEO0FBQW9CLElBQUEsU0FBUyxFQUFDLFdBQTlCO0FBQTBDLElBQUEsS0FBSyxFQUFFTDtBQUFqRCxLQUNHQSxRQURILENBREYsZUFJRTtBQUFLLElBQUEsU0FBUyxFQUFDO0FBQWYsS0FBMEJFLFVBQTFCLENBSkYsQ0FERixlQU9FO0FBQUssSUFBQSxTQUFTLEVBQUM7QUFBZixrQkFDRSxnQ0FBQyx1QkFBRDtBQUFhLElBQUEsT0FBTyxFQUFFQSxVQUF0QjtBQUFrQyxJQUFBLFFBQVEsRUFBRUMsUUFBNUM7QUFBc0QsSUFBQSxTQUFTLE1BQS9EO0FBQWdFLElBQUEsS0FBSyxFQUFFYjtBQUF2RSxJQURGLENBUEYsZUFVRTtBQUFLLElBQUEsU0FBUyxFQUFDLFlBQWY7QUFBNEIsSUFBQSxLQUFLLEVBQUU7QUFBQ2dCLE1BQUFBLEtBQUssRUFBRUwsS0FBSyxHQUFHWCxLQUFLLENBQUNjLFVBQVQsR0FBc0JkLEtBQUssQ0FBQ0M7QUFBekM7QUFBbkMsS0FDR1UsS0FBSyxHQUFHLHFCQUFTQSxLQUFULENBQUgsR0FBcUJGLE9BRDdCLENBVkYsQ0FERjtBQWdCRCxDQXBCRDs7QUEyQkE7QUFDQSxJQUFNUSxrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQXFCO0FBQUEsTUFBRUMsbUJBQUYsU0FBRUEsbUJBQUY7QUFBQSxNQUF1QmxCLEtBQXZCLFNBQXVCQSxLQUF2QjtBQUFBLHNCQUN6QixnQ0FBQyxlQUFELHFCQUNFLGdDQUFDLHFCQUFELFFBQ0dtQixNQUFNLENBQUNDLE1BQVAsQ0FBY0YsbUJBQWQsRUFBbUNHLEdBQW5DLENBQXVDLFVBQUFDLElBQUk7QUFBQSx3QkFDMUMsZ0NBQUMsY0FBRCxnQ0FBb0JBLElBQXBCO0FBQTBCLE1BQUEsR0FBRyxFQUFFQSxJQUFJLENBQUNaLFFBQXBDO0FBQThDLE1BQUEsS0FBSyxFQUFFVjtBQUFyRCxPQUQwQztBQUFBLEdBQTNDLENBREgsQ0FERixDQUR5QjtBQUFBLENBQTNCOztlQVVlLGlDQUFVaUIsa0JBQVYsQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAyMiBVYmVyIFRlY2hub2xvZ2llcywgSW5jLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4vLyBUSEUgU09GVFdBUkUuXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkLCB7d2l0aFRoZW1lfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuLi9wcm9ncmVzcy1iYXInO1xuaW1wb3J0IHtUcnVuY2F0ZWRUaXRsZVRleHR9IGZyb20gJy4uL3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7Z2V0RXJyb3J9IGZyb20gJ0BrZXBsZXIuZ2wvdXRpbHMnO1xuaW1wb3J0IHtGaWxlTG9hZGluZ1Byb2dyZXNzfSBmcm9tICdAa2VwbGVyLmdsL3R5cGVzJztcblxuY29uc3QgU3R5bGVkRmlsZVByb2dyZXNzID0gc3R5bGVkLmRpdi5hdHRycyhwcm9wcyA9PiAoe1xuICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2ZpbGUtdXBsb2FkX19wcm9ncmVzcycsIHByb3BzLmNsYXNzTmFtZSlcbn0pKWBcbiAgY29sb3I6ICR7cHJvcHMgPT4gcHJvcHMudGhlbWUudGV4dENvbG9yTFR9O1xuICBmb250LXNpemU6IDEycHg7XG4gIG1hcmdpbi10b3A6IDEycHg7XG4gIGJvcmRlci1pbWFnZTogaW5pdGlhbDtcbiAgcGFkZGluZzogOHB4IDEycHg7XG5cbiAgLnRvcC1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG5cbiAgLmZpbGUtbmFtZSB7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuICAubWlkZGxlLXJvdyB7XG4gICAgbWFyZ2luLXRvcDogNnB4O1xuICB9XG4gIC5ib3R0b20tcm93IHtcbiAgICBtYXJnaW4tdG9wOiA2cHg7XG4gICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gIH1cbmA7XG5cbmNvbnN0IFN0eWxlZFByb2dyZXNzV3JhcHBlciA9IHN0eWxlZC5kaXYuYXR0cnMoe1xuICBjbGFzc05hbWU6ICdmaWxlLXVwbG9hZF9fcHJvZ3Jlc3NfX3dyYXBwZXInXG59KWBcbiAgd2lkdGg6IDQwMHB4O1xuYDtcblxuY29uc3QgU3R5bGVkQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuYDtcblxuY29uc3QgZm9ybWF0UGVyY2VudCA9IHBlcmNlbnQgPT4gYCR7TWF0aC5mbG9vcihwZXJjZW50ICogMTAwKX0lYDtcblxuaW50ZXJmYWNlIFVwbG9hZFByb2dyZXNzUHJvcHMge1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBmaWxlTmFtZT86IHN0cmluZztcbiAgcGVyY2VudDogbnVtYmVyO1xuICBlcnJvcj86IGFueTtcbiAgdGhlbWU6IGFueTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLm1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMuZmlsZU5hbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYXJhbXMucGVyY2VudFxuICogQHBhcmFtIHthbnl9IHBhcmFtcy5lcnJvclxuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcy50aGVtZVxuICovXG5jb25zdCBVcGxvYWRQcm9ncmVzcyA9ICh7bWVzc2FnZSwgZmlsZU5hbWUsIHBlcmNlbnQsIGVycm9yLCB0aGVtZX06IFVwbG9hZFByb2dyZXNzUHJvcHMpID0+IHtcbiAgY29uc3QgcGVyY2VudFN0ciA9IGZvcm1hdFBlcmNlbnQocGVyY2VudCk7XG4gIGNvbnN0IGJhckNvbG9yID0gZXJyb3IgPyB0aGVtZS5lcnJvckNvbG9yIDogdGhlbWUuYWN0aXZlQ29sb3JMVDtcblxuICByZXR1cm4gKFxuICAgIDxTdHlsZWRGaWxlUHJvZ3Jlc3MgY2xhc3NOYW1lPVwiZmlsZS11cGxvYWQtcHJvZ3Jlc3NfX21lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXJvd1wiPlxuICAgICAgICA8VHJ1bmNhdGVkVGl0bGVUZXh0IGNsYXNzTmFtZT1cImZpbGUtbmFtZVwiIHRpdGxlPXtmaWxlTmFtZX0+XG4gICAgICAgICAge2ZpbGVOYW1lfVxuICAgICAgICA8L1RydW5jYXRlZFRpdGxlVGV4dD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwZXJjZW50XCI+e3BlcmNlbnRTdHJ9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWlkZGxlLXJvd1wiPlxuICAgICAgICA8UHJvZ3Jlc3NCYXIgcGVyY2VudD17cGVyY2VudFN0cn0gYmFyQ29sb3I9e2JhckNvbG9yfSBpc0xvYWRpbmcgdGhlbWU9e3RoZW1lfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvdHRvbS1yb3dcIiBzdHlsZT17e2NvbG9yOiBlcnJvciA/IHRoZW1lLmVycm9yQ29sb3IgOiB0aGVtZS50ZXh0Q29sb3JMVH19PlxuICAgICAgICB7ZXJyb3IgPyBnZXRFcnJvcihlcnJvcikgOiBtZXNzYWdlfVxuICAgICAgPC9kaXY+XG4gICAgPC9TdHlsZWRGaWxlUHJvZ3Jlc3M+XG4gICk7XG59O1xuXG5pbnRlcmZhY2UgRmlsZVVwbG9hZFByb2dyZXNzUHJvcHMge1xuICBmaWxlTG9hZGluZ1Byb2dyZXNzOiBGaWxlTG9hZGluZ1Byb2dyZXNzO1xuICB0aGVtZTogYW55O1xufVxuXG4vKiogQHR5cGUge1JlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PEZpbGVVcGxvYWRQcm9ncmVzc1Byb3BzPn0gKi9cbmNvbnN0IEZpbGVVcGxvYWRQcm9ncmVzcyA9ICh7ZmlsZUxvYWRpbmdQcm9ncmVzcywgdGhlbWV9OiBGaWxlVXBsb2FkUHJvZ3Jlc3NQcm9wcykgPT4gKFxuICA8U3R5bGVkQ29udGFpbmVyPlxuICAgIDxTdHlsZWRQcm9ncmVzc1dyYXBwZXI+XG4gICAgICB7T2JqZWN0LnZhbHVlcyhmaWxlTG9hZGluZ1Byb2dyZXNzKS5tYXAoaXRlbSA9PiAoXG4gICAgICAgIDxVcGxvYWRQcm9ncmVzcyB7Li4uaXRlbX0ga2V5PXtpdGVtLmZpbGVOYW1lfSB0aGVtZT17dGhlbWV9IC8+XG4gICAgICApKX1cbiAgICA8L1N0eWxlZFByb2dyZXNzV3JhcHBlcj5cbiAgPC9TdHlsZWRDb250YWluZXI+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoRmlsZVVwbG9hZFByb2dyZXNzKTtcbiJdfQ==