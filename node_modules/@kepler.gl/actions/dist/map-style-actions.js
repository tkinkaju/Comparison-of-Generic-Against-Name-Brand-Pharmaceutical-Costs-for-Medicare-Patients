// Copyright (c) 2022 Uber Technologies, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.set3dBuildingColor = exports.loadCustomMapStyle = exports.mapStyleChange = exports.loadMapStyleErr = exports.loadMapStyles = exports.requestMapStyles = exports.mapConfigChange = exports.inputMapStyle = exports.addCustomMapStyle = void 0;

var _toolkit = require("@reduxjs/toolkit");

var _actionTypes = _interopRequireDefault(require("./action-types"));/**
 * Add map style from user input to reducer and set it to current style
 * This action is called when user click confirm after putting in a valid style url in the custom map style dialog.
 * It should not be called from outside kepler.gl without a valid `inputStyle` in the `mapStyle` reducer.
 * param {void}
 * @memberof mapStyleActions
 * @public
 */
var addCustomMapStyle = (0, _toolkit.createAction)(_actionTypes["default"].ADD_CUSTOM_MAP_STYLE);
/** INPUT_MAP_STYLE */

exports.addCustomMapStyle = addCustomMapStyle;

/**
 * Input a custom map style object
 * @memberof mapStyleActions
 * @param inputStyle
 * @param inputStyle.url - style url e.g. `'mapbox://styles/heshan/xxxxxyyyyzzz'`
 * @param inputStyle.id - style id e.g. `'custom_style_1'`
 * @param inputStyle.style - actual mapbox style json
 * @param inputStyle.label - style name
 * @param inputStyle.accessToken - mapbox access token
 * @param inputStyle.icon - icon image data url
 * @param [mapState] - mapState is optional
 * @public
 */
var inputMapStyle = (0, _toolkit.createAction)(_actionTypes["default"].INPUT_MAP_STYLE, function (inputStyle, mapState) {
  return {
    payload: {
      inputStyle: inputStyle,
      mapState: mapState
    }
  };
});
/** MAP_CONFIG_CHANGE */

exports.inputMapStyle = inputMapStyle;

/**
 * Update `visibleLayerGroups`to change layer group visibility
 * @memberof mapStyleActions
 * @param mapStyle new config `{visibleLayerGroups: {label: false, road: true, background: true}}`
 * @public
 */
var mapConfigChange = (0, _toolkit.createAction)(_actionTypes["default"].MAP_CONFIG_CHANGE, function (mapStyle) {
  return {
    payload: mapStyle
  };
});
/** REQUEST_MAP_STYLES */

exports.mapConfigChange = mapConfigChange;

/**
 * Request map style style object based on style.url.
 * @memberof mapStyleActions
 * @public
 */
var requestMapStyles = (0, _toolkit.createAction)(_actionTypes["default"].REQUEST_MAP_STYLES, function (mapStyles) {
  return {
    payload: mapStyles
  };
});
/** LOAD_MAP_STYLES */

exports.requestMapStyles = requestMapStyles;

/**
 * Callback when load map style success
 * @memberof mapStyleActions
 * @param newStyles a `{[id]: style}` mapping
 * @public
 */
var loadMapStyles = (0, _toolkit.createAction)(_actionTypes["default"].LOAD_MAP_STYLES, function (newStyles) {
  return {
    payload: newStyles
  };
});
/** LOAD_MAP_STYLE_ERR */

exports.loadMapStyles = loadMapStyles;

/**
 * Callback when load map style error
 * @memberof mapStyleActions
 * @param error
 * @public
 */
var loadMapStyleErr = (0, _toolkit.createAction)(_actionTypes["default"].LOAD_MAP_STYLE_ERR, function (error) {
  return {
    payload: error
  };
});
/** MAP_STYLE_CHANGE */

exports.loadMapStyleErr = loadMapStyleErr;

/**
 * Change to another map style. The selected style should already been loaded into `mapStyle.mapStyles`
 * @memberof mapStyleActions
 * @param styleType the style to change to
 * @public
 */
var mapStyleChange = (0, _toolkit.createAction)(_actionTypes["default"].MAP_STYLE_CHANGE, function (styleType) {
  return {
    payload: styleType
  };
});
/** LOAD_CUSTOM_MAP_STYLE */

exports.mapStyleChange = mapStyleChange;

/**
 * Callback when a custom map style object is received
 * @memberof mapStyleActions
 * @param customMapStyle
 * @param customMapStyle.icon
 * @param customMapStyle.style
 * @param customMapStyle.error
 * @public
 */
var loadCustomMapStyle = (0, _toolkit.createAction)(_actionTypes["default"].LOAD_CUSTOM_MAP_STYLE, function (customMapStyle) {
  return {
    payload: customMapStyle
  };
});
/** SET_3D_BUILDING_COLOR */

exports.loadCustomMapStyle = loadCustomMapStyle;
// SET_3D_BUILDING_COLOR

/**
 * Set 3d building layer group color
 * @memberof mapStyleActions
 * @param color - [r, g, b]
 * @public
 */
var set3dBuildingColor = (0, _toolkit.createAction)(_actionTypes["default"].SET_3D_BUILDING_COLOR, function (color) {
  return {
    payload: color
  };
});
/**
 * Actions handled mostly by  `mapStyle` reducer.
 * They manage the display of base map, such as loading and receiving base map styles,
 * hiding and showing map layers, user input of custom map style url.
 *
 * @public
 */

/* eslint-disable no-unused-vars */
// @ts-ignore

exports.set3dBuildingColor = set3dBuildingColor;
var mapStyleActions = null;
/* eslint-enable no-unused-vars */
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tYXAtc3R5bGUtYWN0aW9ucy50cyJdLCJuYW1lcyI6WyJhZGRDdXN0b21NYXBTdHlsZSIsIkFjdGlvblR5cGVzIiwiQUREX0NVU1RPTV9NQVBfU1RZTEUiLCJpbnB1dE1hcFN0eWxlIiwiSU5QVVRfTUFQX1NUWUxFIiwiaW5wdXRTdHlsZSIsIm1hcFN0YXRlIiwicGF5bG9hZCIsIm1hcENvbmZpZ0NoYW5nZSIsIk1BUF9DT05GSUdfQ0hBTkdFIiwibWFwU3R5bGUiLCJyZXF1ZXN0TWFwU3R5bGVzIiwiUkVRVUVTVF9NQVBfU1RZTEVTIiwibWFwU3R5bGVzIiwibG9hZE1hcFN0eWxlcyIsIkxPQURfTUFQX1NUWUxFUyIsIm5ld1N0eWxlcyIsImxvYWRNYXBTdHlsZUVyciIsIkxPQURfTUFQX1NUWUxFX0VSUiIsImVycm9yIiwibWFwU3R5bGVDaGFuZ2UiLCJNQVBfU1RZTEVfQ0hBTkdFIiwic3R5bGVUeXBlIiwibG9hZEN1c3RvbU1hcFN0eWxlIiwiTE9BRF9DVVNUT01fTUFQX1NUWUxFIiwiY3VzdG9tTWFwU3R5bGUiLCJzZXQzZEJ1aWxkaW5nQ29sb3IiLCJTRVRfM0RfQlVJTERJTkdfQ09MT1IiLCJjb2xvciIsIm1hcFN0eWxlQWN0aW9ucyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBb0JBOztBQUNBOztBQXJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sSUFBTUEsaUJBRVosR0FBRywyQkFBYUMsd0JBQVlDLG9CQUF6QixDQUZHO0FBSVA7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1DLGFBR3FFLEdBQUcsMkJBQ25GRix3QkFBWUcsZUFEdUUsRUFFbkYsVUFDRUMsVUFERixFQUVFQyxRQUZGO0FBQUEsU0FHTTtBQUNKQyxJQUFBQSxPQUFPLEVBQUU7QUFDUEYsTUFBQUEsVUFBVSxFQUFWQSxVQURPO0FBRVBDLE1BQUFBLFFBQVEsRUFBUkE7QUFGTztBQURMLEdBSE47QUFBQSxDQUZtRixDQUg5RTtBQWdCUDs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1FLGVBS1osR0FBRywyQkFDRlAsd0JBQVlRLGlCQURWLEVBRUYsVUFBQ0MsUUFBRDtBQUFBLFNBQXdEO0FBQUNILElBQUFBLE9BQU8sRUFBRUc7QUFBVixHQUF4RDtBQUFBLENBRkUsQ0FMRztBQVVQOzs7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1DLGdCQUtaLEdBQUcsMkJBQ0ZWLHdCQUFZVyxrQkFEVixFQUVGLFVBQUNDLFNBQUQ7QUFBQSxTQUEwRDtBQUFDTixJQUFBQSxPQUFPLEVBQUVNO0FBQVYsR0FBMUQ7QUFBQSxDQUZFLENBTEc7QUFVUDs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1DLGFBS1osR0FBRywyQkFDRmIsd0JBQVljLGVBRFYsRUFFRixVQUFDQyxTQUFEO0FBQUEsU0FBdUQ7QUFBQ1QsSUFBQUEsT0FBTyxFQUFFUztBQUFWLEdBQXZEO0FBQUEsQ0FGRSxDQUxHO0FBVVA7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxJQUFNQyxlQUtaLEdBQUcsMkJBQ0ZoQix3QkFBWWlCLGtCQURWLEVBRUYsVUFBQ0MsS0FBRDtBQUFBLFNBQXFEO0FBQUNaLElBQUFBLE9BQU8sRUFBRVk7QUFBVixHQUFyRDtBQUFBLENBRkUsQ0FMRztBQVVQOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sSUFBTUMsY0FLWixHQUFHLDJCQUNGbkIsd0JBQVlvQixnQkFEVixFQUVGLFVBQUNDLFNBQUQ7QUFBQSxTQUF3RDtBQUFDZixJQUFBQSxPQUFPLEVBQUVlO0FBQVYsR0FBeEQ7QUFBQSxDQUZFLENBTEc7QUFVUDs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1DLGtCQUtaLEdBQUcsMkJBQ0Z0Qix3QkFBWXVCLHFCQURWLEVBRUYsVUFBQ0MsY0FBRDtBQUFBLFNBQWlFO0FBQUNsQixJQUFBQSxPQUFPLEVBQUVrQjtBQUFWLEdBQWpFO0FBQUEsQ0FGRSxDQUxHO0FBVVA7OztBQUlBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLElBQU1DLGtCQUtaLEdBQUcsMkJBQ0Z6Qix3QkFBWTBCLHFCQURWLEVBRUYsVUFBQ0MsS0FBRDtBQUFBLFNBQXdEO0FBQUNyQixJQUFBQSxPQUFPLEVBQUVxQjtBQUFWLEdBQXhEO0FBQUEsQ0FGRSxDQUxHO0FBVVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7O0FBQ0EsSUFBTUMsZUFBZSxHQUFHLElBQXhCO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjIgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5pbXBvcnQge2NyZWF0ZUFjdGlvbn0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQge2RlZmF1bHQgYXMgQWN0aW9uVHlwZXN9IGZyb20gJy4vYWN0aW9uLXR5cGVzJztcbmltcG9ydCB7XG4gIElucHV0U3R5bGUsXG4gIE1hcFN0eWxlcyxcbiAgTWVyZ2UsXG4gIFJHQkNvbG9yLFxuICBNYXBTdGF0ZSxcbiAgVmlzaWJsZUxheWVyR3JvdXBzXG59IGZyb20gJ0BrZXBsZXIuZ2wvdHlwZXMnO1xuXG4vKipcbiAqIEFkZCBtYXAgc3R5bGUgZnJvbSB1c2VyIGlucHV0IHRvIHJlZHVjZXIgYW5kIHNldCBpdCB0byBjdXJyZW50IHN0eWxlXG4gKiBUaGlzIGFjdGlvbiBpcyBjYWxsZWQgd2hlbiB1c2VyIGNsaWNrIGNvbmZpcm0gYWZ0ZXIgcHV0dGluZyBpbiBhIHZhbGlkIHN0eWxlIHVybCBpbiB0aGUgY3VzdG9tIG1hcCBzdHlsZSBkaWFsb2cuXG4gKiBJdCBzaG91bGQgbm90IGJlIGNhbGxlZCBmcm9tIG91dHNpZGUga2VwbGVyLmdsIHdpdGhvdXQgYSB2YWxpZCBgaW5wdXRTdHlsZWAgaW4gdGhlIGBtYXBTdHlsZWAgcmVkdWNlci5cbiAqIHBhcmFtIHt2b2lkfVxuICogQG1lbWJlcm9mIG1hcFN0eWxlQWN0aW9uc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYWRkQ3VzdG9tTWFwU3R5bGU6ICgpID0+IHtcbiAgdHlwZTogdHlwZW9mIEFjdGlvblR5cGVzLkFERF9DVVNUT01fTUFQX1NUWUxFO1xufSA9IGNyZWF0ZUFjdGlvbihBY3Rpb25UeXBlcy5BRERfQ1VTVE9NX01BUF9TVFlMRSk7XG5cbi8qKiBJTlBVVF9NQVBfU1RZTEUgKi9cbmV4cG9ydCB0eXBlIElucHV0TWFwU3R5bGVVcGRhdGVyQWN0aW9uID0ge1xuICBwYXlsb2FkOiB7XG4gICAgaW5wdXRTdHlsZTogUGFydGlhbDxJbnB1dFN0eWxlPjtcbiAgICBtYXBTdGF0ZT86IE1hcFN0YXRlO1xuICB9O1xufTtcbi8qKlxuICogSW5wdXQgYSBjdXN0b20gbWFwIHN0eWxlIG9iamVjdFxuICogQG1lbWJlcm9mIG1hcFN0eWxlQWN0aW9uc1xuICogQHBhcmFtIGlucHV0U3R5bGVcbiAqIEBwYXJhbSBpbnB1dFN0eWxlLnVybCAtIHN0eWxlIHVybCBlLmcuIGAnbWFwYm94Oi8vc3R5bGVzL2hlc2hhbi94eHh4eHl5eXl6enonYFxuICogQHBhcmFtIGlucHV0U3R5bGUuaWQgLSBzdHlsZSBpZCBlLmcuIGAnY3VzdG9tX3N0eWxlXzEnYFxuICogQHBhcmFtIGlucHV0U3R5bGUuc3R5bGUgLSBhY3R1YWwgbWFwYm94IHN0eWxlIGpzb25cbiAqIEBwYXJhbSBpbnB1dFN0eWxlLmxhYmVsIC0gc3R5bGUgbmFtZVxuICogQHBhcmFtIGlucHV0U3R5bGUuYWNjZXNzVG9rZW4gLSBtYXBib3ggYWNjZXNzIHRva2VuXG4gKiBAcGFyYW0gaW5wdXRTdHlsZS5pY29uIC0gaWNvbiBpbWFnZSBkYXRhIHVybFxuICogQHBhcmFtIFttYXBTdGF0ZV0gLSBtYXBTdGF0ZSBpcyBvcHRpb25hbFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgaW5wdXRNYXBTdHlsZTogKFxuICBpbnB1dFN0eWxlOiBJbnB1dE1hcFN0eWxlVXBkYXRlckFjdGlvblsncGF5bG9hZCddWydpbnB1dFN0eWxlJ10sXG4gIG1hcFN0YXRlPzogSW5wdXRNYXBTdHlsZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnbWFwU3RhdGUnXVxuKSA9PiBNZXJnZTxJbnB1dE1hcFN0eWxlVXBkYXRlckFjdGlvbiwge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5JTlBVVF9NQVBfU1RZTEV9PiA9IGNyZWF0ZUFjdGlvbihcbiAgQWN0aW9uVHlwZXMuSU5QVVRfTUFQX1NUWUxFLFxuICAoXG4gICAgaW5wdXRTdHlsZTogSW5wdXRNYXBTdHlsZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVsnaW5wdXRTdHlsZSddLFxuICAgIG1hcFN0YXRlOiBJbnB1dE1hcFN0eWxlVXBkYXRlckFjdGlvblsncGF5bG9hZCddWydtYXBTdGF0ZSddXG4gICkgPT4gKHtcbiAgICBwYXlsb2FkOiB7XG4gICAgICBpbnB1dFN0eWxlLFxuICAgICAgbWFwU3RhdGVcbiAgICB9XG4gIH0pXG4pO1xuXG4vKiogTUFQX0NPTkZJR19DSEFOR0UgKi9cbmV4cG9ydCB0eXBlIE1hcENvbmZpZ0NoYW5nZVVwZGF0ZXJBY3Rpb24gPSB7XG4gIHBheWxvYWQ6IHtcbiAgICB2aXNpYmxlTGF5ZXJHcm91cHM/OiBWaXNpYmxlTGF5ZXJHcm91cHM7XG4gICAgdG9wTGF5ZXJHcm91cHM/OiBWaXNpYmxlTGF5ZXJHcm91cHM7XG4gIH07XG59O1xuLyoqXG4gKiBVcGRhdGUgYHZpc2libGVMYXllckdyb3Vwc2B0byBjaGFuZ2UgbGF5ZXIgZ3JvdXAgdmlzaWJpbGl0eVxuICogQG1lbWJlcm9mIG1hcFN0eWxlQWN0aW9uc1xuICogQHBhcmFtIG1hcFN0eWxlIG5ldyBjb25maWcgYHt2aXNpYmxlTGF5ZXJHcm91cHM6IHtsYWJlbDogZmFsc2UsIHJvYWQ6IHRydWUsIGJhY2tncm91bmQ6IHRydWV9fWBcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IG1hcENvbmZpZ0NoYW5nZTogKFxuICBtYXBTdHlsZTogTWFwQ29uZmlnQ2hhbmdlVXBkYXRlckFjdGlvblsncGF5bG9hZCddXG4pID0+IE1lcmdlPFxuICBNYXBDb25maWdDaGFuZ2VVcGRhdGVyQWN0aW9uLFxuICB7dHlwZTogdHlwZW9mIEFjdGlvblR5cGVzLk1BUF9DT05GSUdfQ0hBTkdFfVxuPiA9IGNyZWF0ZUFjdGlvbihcbiAgQWN0aW9uVHlwZXMuTUFQX0NPTkZJR19DSEFOR0UsXG4gIChtYXBTdHlsZTogTWFwQ29uZmlnQ2hhbmdlVXBkYXRlckFjdGlvblsncGF5bG9hZCddKSA9PiAoe3BheWxvYWQ6IG1hcFN0eWxlfSlcbik7XG5cbi8qKiBSRVFVRVNUX01BUF9TVFlMRVMgKi9cbmV4cG9ydCB0eXBlIFJlcXVlc3RNYXBTdHlsZXNVcGRhdGVyQWN0aW9uID0ge1xuICBwYXlsb2FkOiB7XG4gICAgW2tleTogc3RyaW5nXToge1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGxhYmVsPzogc3RyaW5nO1xuICAgICAgdXJsOiBzdHJpbmc7XG4gICAgICBpY29uPzogc3RyaW5nO1xuICAgICAgbGF5ZXJHcm91cHM/OiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbn07XG4vKipcbiAqIFJlcXVlc3QgbWFwIHN0eWxlIHN0eWxlIG9iamVjdCBiYXNlZCBvbiBzdHlsZS51cmwuXG4gKiBAbWVtYmVyb2YgbWFwU3R5bGVBY3Rpb25zXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCByZXF1ZXN0TWFwU3R5bGVzOiAoXG4gIG1hcFN0eWxlczogUmVxdWVzdE1hcFN0eWxlc1VwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVxuKSA9PiBNZXJnZTxcbiAgUmVxdWVzdE1hcFN0eWxlc1VwZGF0ZXJBY3Rpb24sXG4gIHt0eXBlOiB0eXBlb2YgQWN0aW9uVHlwZXMuUkVRVUVTVF9NQVBfU1RZTEVTfVxuPiA9IGNyZWF0ZUFjdGlvbihcbiAgQWN0aW9uVHlwZXMuUkVRVUVTVF9NQVBfU1RZTEVTLFxuICAobWFwU3R5bGVzOiBSZXF1ZXN0TWFwU3R5bGVzVXBkYXRlckFjdGlvblsncGF5bG9hZCddKSA9PiAoe3BheWxvYWQ6IG1hcFN0eWxlc30pXG4pO1xuXG4vKiogTE9BRF9NQVBfU1RZTEVTICovXG5leHBvcnQgdHlwZSBMb2FkTWFwU3R5bGVzVXBkYXRlckFjdGlvbiA9IHtcbiAgcGF5bG9hZDogTWFwU3R5bGVzO1xufTtcbi8qKlxuICogQ2FsbGJhY2sgd2hlbiBsb2FkIG1hcCBzdHlsZSBzdWNjZXNzXG4gKiBAbWVtYmVyb2YgbWFwU3R5bGVBY3Rpb25zXG4gKiBAcGFyYW0gbmV3U3R5bGVzIGEgYHtbaWRdOiBzdHlsZX1gIG1hcHBpbmdcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGxvYWRNYXBTdHlsZXM6IChcbiAgbmV3U3R5bGVzOiBMb2FkTWFwU3R5bGVzVXBkYXRlckFjdGlvblsncGF5bG9hZCddXG4pID0+IE1lcmdlPFxuICBMb2FkTWFwU3R5bGVzVXBkYXRlckFjdGlvbixcbiAge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5MT0FEX01BUF9TVFlMRVN9XG4+ID0gY3JlYXRlQWN0aW9uKFxuICBBY3Rpb25UeXBlcy5MT0FEX01BUF9TVFlMRVMsXG4gIChuZXdTdHlsZXM6IExvYWRNYXBTdHlsZXNVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ10pID0+ICh7cGF5bG9hZDogbmV3U3R5bGVzfSlcbik7XG5cbi8qKiBMT0FEX01BUF9TVFlMRV9FUlIgKi9cbmV4cG9ydCB0eXBlIExvYWRNYXBTdHlsZUVyclVwZGF0ZXJBY3Rpb24gPSB7XG4gIHBheWxvYWQ6IEVycm9yO1xufTtcbi8qKlxuICogQ2FsbGJhY2sgd2hlbiBsb2FkIG1hcCBzdHlsZSBlcnJvclxuICogQG1lbWJlcm9mIG1hcFN0eWxlQWN0aW9uc1xuICogQHBhcmFtIGVycm9yXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBsb2FkTWFwU3R5bGVFcnI6IChcbiAgZXJyb3I6IExvYWRNYXBTdHlsZUVyclVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVxuKSA9PiBNZXJnZTxcbiAgTG9hZE1hcFN0eWxlRXJyVXBkYXRlckFjdGlvbixcbiAge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5MT0FEX01BUF9TVFlMRV9FUlJ9XG4+ID0gY3JlYXRlQWN0aW9uKFxuICBBY3Rpb25UeXBlcy5MT0FEX01BUF9TVFlMRV9FUlIsXG4gIChlcnJvcjogTG9hZE1hcFN0eWxlRXJyVXBkYXRlckFjdGlvblsncGF5bG9hZCddKSA9PiAoe3BheWxvYWQ6IGVycm9yfSlcbik7XG5cbi8qKiBNQVBfU1RZTEVfQ0hBTkdFICovXG5leHBvcnQgdHlwZSBNYXBTdHlsZUNoYW5nZVVwZGF0ZXJBY3Rpb24gPSB7XG4gIHBheWxvYWQ6IHN0cmluZztcbn07XG4vKipcbiAqIENoYW5nZSB0byBhbm90aGVyIG1hcCBzdHlsZS4gVGhlIHNlbGVjdGVkIHN0eWxlIHNob3VsZCBhbHJlYWR5IGJlZW4gbG9hZGVkIGludG8gYG1hcFN0eWxlLm1hcFN0eWxlc2BcbiAqIEBtZW1iZXJvZiBtYXBTdHlsZUFjdGlvbnNcbiAqIEBwYXJhbSBzdHlsZVR5cGUgdGhlIHN0eWxlIHRvIGNoYW5nZSB0b1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgbWFwU3R5bGVDaGFuZ2U6IChcbiAgc3R5bGVUeXBlOiBNYXBTdHlsZUNoYW5nZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVxuKSA9PiBNZXJnZTxcbiAgTWFwU3R5bGVDaGFuZ2VVcGRhdGVyQWN0aW9uLFxuICB7dHlwZTogdHlwZW9mIEFjdGlvblR5cGVzLk1BUF9TVFlMRV9DSEFOR0V9XG4+ID0gY3JlYXRlQWN0aW9uKFxuICBBY3Rpb25UeXBlcy5NQVBfU1RZTEVfQ0hBTkdFLFxuICAoc3R5bGVUeXBlOiBNYXBTdHlsZUNoYW5nZVVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXSkgPT4gKHtwYXlsb2FkOiBzdHlsZVR5cGV9KVxuKTtcblxuLyoqIExPQURfQ1VTVE9NX01BUF9TVFlMRSAqL1xuZXhwb3J0IHR5cGUgTG9hZEN1c3RvbU1hcFN0eWxlVXBkYXRlckFjdGlvbiA9IHtcbiAgcGF5bG9hZDoge1xuICAgIGljb24/OiBzdHJpbmc7XG4gICAgc3R5bGU/OiBvYmplY3Q7XG4gICAgZXJyb3I/OiBFcnJvcjtcbiAgfTtcbn07XG4vKipcbiAqIENhbGxiYWNrIHdoZW4gYSBjdXN0b20gbWFwIHN0eWxlIG9iamVjdCBpcyByZWNlaXZlZFxuICogQG1lbWJlcm9mIG1hcFN0eWxlQWN0aW9uc1xuICogQHBhcmFtIGN1c3RvbU1hcFN0eWxlXG4gKiBAcGFyYW0gY3VzdG9tTWFwU3R5bGUuaWNvblxuICogQHBhcmFtIGN1c3RvbU1hcFN0eWxlLnN0eWxlXG4gKiBAcGFyYW0gY3VzdG9tTWFwU3R5bGUuZXJyb3JcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGxvYWRDdXN0b21NYXBTdHlsZTogKFxuICBjdXN0b21NYXBTdHlsZTogTG9hZEN1c3RvbU1hcFN0eWxlVXBkYXRlckFjdGlvblsncGF5bG9hZCddXG4pID0+IE1lcmdlPFxuICBMb2FkQ3VzdG9tTWFwU3R5bGVVcGRhdGVyQWN0aW9uLFxuICB7dHlwZTogdHlwZW9mIEFjdGlvblR5cGVzLkxPQURfQ1VTVE9NX01BUF9TVFlMRX1cbj4gPSBjcmVhdGVBY3Rpb24oXG4gIEFjdGlvblR5cGVzLkxPQURfQ1VTVE9NX01BUF9TVFlMRSxcbiAgKGN1c3RvbU1hcFN0eWxlOiBMb2FkQ3VzdG9tTWFwU3R5bGVVcGRhdGVyQWN0aW9uWydwYXlsb2FkJ10pID0+ICh7cGF5bG9hZDogY3VzdG9tTWFwU3R5bGV9KVxuKTtcblxuLyoqIFNFVF8zRF9CVUlMRElOR19DT0xPUiAqL1xuZXhwb3J0IHR5cGUgU2V0M2RCdWlsZGluZ0NvbG9yVXBkYXRlckFjdGlvbiA9IHtcbiAgcGF5bG9hZDogUkdCQ29sb3I7XG59O1xuLy8gU0VUXzNEX0JVSUxESU5HX0NPTE9SXG4vKipcbiAqIFNldCAzZCBidWlsZGluZyBsYXllciBncm91cCBjb2xvclxuICogQG1lbWJlcm9mIG1hcFN0eWxlQWN0aW9uc1xuICogQHBhcmFtIGNvbG9yIC0gW3IsIGcsIGJdXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBzZXQzZEJ1aWxkaW5nQ29sb3I6IChcbiAgY29sb3I6IFNldDNkQnVpbGRpbmdDb2xvclVwZGF0ZXJBY3Rpb25bJ3BheWxvYWQnXVxuKSA9PiBNZXJnZTxcbiAgU2V0M2RCdWlsZGluZ0NvbG9yVXBkYXRlckFjdGlvbixcbiAge3R5cGU6IHR5cGVvZiBBY3Rpb25UeXBlcy5TRVRfM0RfQlVJTERJTkdfQ09MT1J9XG4+ID0gY3JlYXRlQWN0aW9uKFxuICBBY3Rpb25UeXBlcy5TRVRfM0RfQlVJTERJTkdfQ09MT1IsXG4gIChjb2xvcjogU2V0M2RCdWlsZGluZ0NvbG9yVXBkYXRlckFjdGlvblsncGF5bG9hZCddKSA9PiAoe3BheWxvYWQ6IGNvbG9yfSlcbik7XG5cbi8qKlxuICogQWN0aW9ucyBoYW5kbGVkIG1vc3RseSBieSAgYG1hcFN0eWxlYCByZWR1Y2VyLlxuICogVGhleSBtYW5hZ2UgdGhlIGRpc3BsYXkgb2YgYmFzZSBtYXAsIHN1Y2ggYXMgbG9hZGluZyBhbmQgcmVjZWl2aW5nIGJhc2UgbWFwIHN0eWxlcyxcbiAqIGhpZGluZyBhbmQgc2hvd2luZyBtYXAgbGF5ZXJzLCB1c2VyIGlucHV0IG9mIGN1c3RvbSBtYXAgc3R5bGUgdXJsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8vIEB0cy1pZ25vcmVcbmNvbnN0IG1hcFN0eWxlQWN0aW9ucyA9IG51bGw7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4iXX0=