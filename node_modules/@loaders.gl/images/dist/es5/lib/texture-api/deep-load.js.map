{"version":3,"file":"deep-load.js","names":["deepLoad","urlTree","load","options","asyncDeepMap","url","shallowLoad","fetch","response","arrayBuffer"],"sources":["../../../../src/lib/texture-api/deep-load.ts"],"sourcesContent":["import {asyncDeepMap} from './async-deep-map';\n\nexport async function deepLoad(urlTree, load, options) {\n  return await asyncDeepMap(urlTree, (url) => shallowLoad(url, load, options));\n}\n\nexport async function shallowLoad(url, load, options) {\n  // console.error('loading', url);\n  const response = await fetch(url, options.fetch);\n  const arrayBuffer = await response.arrayBuffer();\n  return await load(arrayBuffer, options);\n}\n"],"mappings":";;;;;;;;;;AAAA;AAA8C,SAExBA,QAAQ;EAAA;AAAA;AAAA;EAAA,sEAAvB,iBAAwBC,OAAO,EAAEC,IAAI,EAAEC,OAAO;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACtC,IAAAC,0BAAY,EAACH,OAAO,EAAE,UAACI,GAAG;cAAA,OAAKC,WAAW,CAACD,GAAG,EAAEH,IAAI,EAAEC,OAAO,CAAC;YAAA,EAAC;UAAA;YAAA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAC7E;EAAA;AAAA;AAAA,SAEqBG,WAAW;EAAA;AAAA;AAAA;EAAA,yEAA1B,kBAA2BD,GAAG,EAAEH,IAAI,EAAEC,OAAO;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OAE3BI,KAAK,CAACF,GAAG,EAAEF,OAAO,CAACI,KAAK,CAAC;UAAA;YAA1CC,QAAQ;YAAA;YAAA,OACYA,QAAQ,CAACC,WAAW,EAAE;UAAA;YAA1CA,WAAW;YAAA;YAAA,OACJP,IAAI,CAACO,WAAW,EAAEN,OAAO,CAAC;UAAA;YAAA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACxC;EAAA;AAAA"}