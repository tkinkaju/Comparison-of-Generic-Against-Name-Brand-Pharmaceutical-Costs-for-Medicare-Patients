{"version":3,"file":"fetch-error-message.js","names":["getErrorMessageFromResponseSync","response","url","status","statusText","getErrorMessageFromResponse","message","contentType","headers","get","includes","text"],"sources":["../../../../src/lib/fetch/fetch-error-message.ts"],"sourcesContent":["export function getErrorMessageFromResponseSync(response: Response): string {\n  return `Failed to fetch resource ${response.url}(${response.status}): ${response.statusText} `;\n}\n\nexport async function getErrorMessageFromResponse(response: Response): Promise<string> {\n  let message = `Failed to fetch resource ${response.url} (${response.status}): `;\n  try {\n    const contentType = response.headers.get('Content-Type') || '';\n    if (contentType.includes('application/json')) {\n      message += await response.text();\n    } else {\n      message += response.statusText;\n    }\n  } catch (error) {\n    // eslint forbids return in finally statement\n    return message;\n  }\n  return message;\n}\n"],"mappings":";;;;;;;;;;AAAO,SAASA,+BAA+B,CAACC,QAAkB,EAAU;EAC1E,0CAAmCA,QAAQ,CAACC,GAAG,cAAID,QAAQ,CAACE,MAAM,gBAAMF,QAAQ,CAACG,UAAU;AAC7F;AAAC,SAEqBC,2BAA2B;EAAA;AAAA;AAAA;EAAA,yFAA1C,iBAA2CJ,QAAkB;IAAA;IAAA;MAAA;QAAA;UAAA;YAC9DK,OAAO,sCAA+BL,QAAQ,CAACC,GAAG,eAAKD,QAAQ,CAACE,MAAM;YAAA;YAElEI,WAAW,GAAGN,QAAQ,CAACO,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;YAAA,KAC1DF,WAAW,CAACG,QAAQ,CAAC,kBAAkB,CAAC;cAAA;cAAA;YAAA;YAAA,cAC1CJ,OAAO;YAAA;YAAA,OAAUL,QAAQ,CAACU,IAAI,EAAE;UAAA;YAAhCL,OAAO;YAAA;YAAA;UAAA;YAEPA,OAAO,IAAIL,QAAQ,CAACG,UAAU;UAAC;YAAA;YAAA;UAAA;YAAA;YAAA;YAAA,iCAI1BE,OAAO;UAAA;YAAA,iCAETA,OAAO;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACf;EAAA;AAAA"}